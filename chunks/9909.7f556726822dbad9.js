"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9909],{3431:(e,t,n)=>{n.d(t,{B:()=>o});var a=n(84354),i=n(38326);let l=e=>t=>t.searchWorkflowLoadingIds.includes(e),o={isCurrentSendMessageError:e=>{let t=(0,a.T)(e.activeId,e.activeTopicId);for(let n of[...e.operationsByContext[t]||[]].reverse()){let t=e.operations[n];if(t&&"sendMessage"===t.type&&t.metadata.inputSendErrorMsg)return t.metadata.inputSendErrorMsg}},isCurrentSendMessageLoading:e=>{let t=(0,a.T)(e.activeId,e.activeTopicId);return(e.operationsByContext[t]||[]).some(t=>{let n=e.operations[t];return n&&"sendMessage"===n.type&&"running"===n.status})},isIntentUnderstanding:e=>t=>l(e)(t),isMessageInReasoning:e=>t=>i.operationSelectors.isMessageInReasoning(e)(t),isMessageInSearchWorkflow:l,isSendMessageLoadingForTopic:e=>t=>(t.operationsByContext[e]||[]).some(e=>{let n=t.operations[e];return n&&"sendMessage"===n.type&&"running"===n.status})}},13171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ew});var a,i=n(28802),l=n(80457),o=n(27697),r=n(64861),s=n(14343),d=n(83034),c=n(80122),p=n(29703),m=n(28726),g=n(75431),u=n(58244),h=n(59121),f=n(61405),y=n(36740),v=n(45541),b=n(74038),x=n(49334),w=n(11577),A=n(55825),C=n(25863),S=n(60851);let M=(0,w.rU)(({css:e,token:t})=>({configEditor:e`
    margin-block-start: ${t.marginSM}px;
  `,configSection:e`
    margin-block-end: ${t.marginLG}px;
    padding: ${t.paddingSM}px;
    border-radius: ${t.borderRadius}px;
  `,configTitle:e`
    display: flex;
    gap: ${t.marginXS}px;
    align-items: center;

    height: 24px;

    font-weight: 600;
    color: ${t.colorTextHeading};
  `,previewContainer:e`
    padding-inline: ${t.paddingXS}px;
  `,previewItem:e`
    display: flex;
    align-items: center;
    justify-content: space-between;

    padding-block: ${t.paddingXS}px;
    padding-inline: 0;

    &:not(:last-child) {
      border-block-end: 1px solid ${t.colorBorderSecondary};
    }
  `,previewLabel:e`
    display: flex;
    gap: ${t.marginXS}px;
    align-items: center;

    font-size: ${t.fontSizeSM}px;
    font-weight: 500;
    color: ${t.colorTextSecondary};
  `,previewValue:e`
    padding-block: ${t.paddingXXS}px;
    padding-inline: ${t.paddingXS}px;
    border-radius: ${t.borderRadiusSM}px;

    font-family: ${t.fontFamilyCode};
    font-size: ${t.fontSizeSM}px;
    font-weight: 600;
    color: ${t.colorText};

    background: ${t.colorFillQuaternary};
  `,typeValue:e`
    display: flex;
    gap: ${t.marginXS}px;
    align-items: center;
  `,urlValue:e`
    max-width: 300px;
    padding-block: ${t.paddingXS}px;
    padding-inline: ${t.paddingSM}px;
    border: 1px solid ${t.colorBorder};
    border-radius: ${t.borderRadius}px;

    font-family: ${t.fontFamilyCode};
    font-size: ${t.fontSizeSM}px;
    font-weight: 500;
    word-break: auto-phrase;

    background: ${t.colorBgElevated};
  `})),I=(0,d.memo)(({schema:e,onConfigUpdate:t})=>{let{t:n}=(0,h.Bd)("plugin"),{styles:a}=M(),[o,r]=(0,d.useState)(e.config.env||{}),[s,c]=(0,d.useState)(e.config.headers||{});return(0,i.FD)(l.Flexbox,{gap:16,children:[(0,i.FD)(m.A,{className:a.configSection,variant:"outlined",children:[(0,i.FD)("div",{className:a.configTitle,children:[(0,i.Y)(A.A,{size:14}),n("protocolInstall.install.title",{defaultValue:"安装信息"})]}),(0,i.FD)("div",{className:a.previewContainer,children:[(0,i.FD)("div",{className:a.previewItem,children:[(0,i.Y)("span",{className:a.previewLabel,children:n("protocolInstall.config.type.label")}),(0,i.Y)("div",{className:a.typeValue,children:(0,i.Y)(g.A,{className:a.previewValue,children:"stdio"===e.config.type?"STDIO":"HTTP"})})]}),"http"===e.config.type&&e.config.url&&(0,i.FD)("div",{className:a.previewItem,children:[(0,i.Y)("span",{className:a.previewLabel,children:n("protocolInstall.config.url")}),(0,i.Y)("div",{className:a.urlValue,children:e.config.url})]}),"stdio"===e.config.type&&(0,i.FD)(i.FK,{children:[e.config.command&&(0,i.FD)("div",{className:a.previewItem,children:[(0,i.Y)("span",{className:a.previewLabel,children:n("protocolInstall.config.command")}),(0,i.Y)("span",{className:a.previewValue,children:e.config.command})]}),e.config.args&&e.config.args.length>0&&(0,i.FD)("div",{className:a.previewItem,children:[(0,i.Y)("span",{className:a.previewLabel,children:n("protocolInstall.config.args")}),(0,i.Y)("span",{className:a.previewValue,children:e.config.args.join(" ")})]})]})]})]}),(0,i.FD)(m.A,{className:a.configSection,variant:"outlined",children:[(0,i.FD)("div",{className:a.configTitle,children:[(0,i.Y)(C.A,{size:14}),"stdio"===e.config.type?n("protocolInstall.config.env",{defaultValue:"环境变量"}):n("protocolInstall.config.headers",{defaultValue:"请求头"})]}),(0,i.FD)("div",{className:a.configEditor,children:["http"===e.config.type&&(0,i.Y)(S.A,{addButtonText:n("protocolInstall.config.addHeaders",{defaultValue:"添加请求头"}),onChange:e=>{c(e),t?.({env:o,headers:e})},style:{border:"none"},value:s}),"stdio"===e.config.type&&(0,i.Y)(S.A,{addButtonText:n("protocolInstall.config.addEnv",{defaultValue:"添加环境变量"}),onChange:e=>{r(e),t?.({env:e,headers:s})},style:{border:"none"},value:o})]})]})]})});I.displayName="ConfigDisplay";var k=((a={}).CUSTOM="custom",a.MARKETPLACE="marketplace",a.OFFICIAL="official",a);let O={higress:{description:"Enterprise-grade MCP plugins for cloud-native applications",name:"Higress Marketplace",website:"https://higress.ai"},mcprouter:{description:"Community-driven MCP plugin marketplace",name:"MCPRouter",website:"https://mcprouter.com"},smithery:{description:"Professional MCP plugins and tools",name:"Smithery",website:"https://smithery.ai"}},F=(0,d.memo)(({installRequest:e,isMarketplace:t=!1,onComplete:n})=>{let{message:a}=u.A.useApp(),{t:o}=(0,h.Bd)("plugin"),[r,s]=(0,d.useState)(!1),[w,A]=(0,d.useState)({}),[C]=(0,b.j)(e=>[e.installCustomPlugin]),S=(0,b.j)(e=>e.testMcpConnection),M=(0,v.o)(e=>e.togglePlugin),k=e?.schema?.identifier||"",F=(0,b.j)(x.y.getMCPConnectionTestState(k)),Y=e?.schema,E=e?.marketId,P=t&&E?O[E]:null;(0,d.useEffect)(()=>{e||(s(!1),A({}))},[e]);let N=(0,d.useCallback)(async()=>{if(e&&Y){s(!0);try{let e,t={...Y.config,env:w.env||Y.config.env,headers:w.headers||Y.config.headers},i={connection:t,identifier:k,metadata:{avatar:Y.icon,description:Y.description}};console.log("testParams:",i);let l=await S(i);if(!l.success)throw Error(l.error||o("protocolInstall.messages.connectionTestFailed"));if(!l.manifest)throw Error(o("protocolInstall.messages.manifestNotFound"));e={customParams:{avatar:Y.icon,description:Y.description,mcp:{...t,headers:"http"===t.type?t.headers:void 0}},identifier:Y.identifier,manifest:l.manifest,type:"customPlugin"},await C(e),await M(Y.identifier),a.success(o("protocolInstall.messages.installSuccess",{name:Y.name})),n?.()}catch(e){console.error("Plugin installation error:",e),a.error(o("protocolInstall.messages.installError")),s(!1)}}},[e,Y,w,n,C,S,M,a,o,k]),$=(0,d.useCallback)(()=>{n?.()},[n]);if(!e||!Y)return null;let j=t?o("protocolInstall.marketplace.title"):o("protocolInstall.custom.title"),T=t?o("protocolInstall.actions.install"):o("protocolInstall.actions.installAnyway");return(0,i.Y)(p.A,{confirmLoading:r||F.loading,okText:T,onCancel:$,onOk:N,open:!0,title:j,width:680,children:(0,i.FD)(l.Flexbox,{gap:24,children:[t?P?(0,i.Y)(c.A,{message:o("protocolInstall.marketplace.trustedBy",{name:P.name}),showIcon:!0,type:"success",variant:"borderless"}):(0,i.Y)(c.A,{message:o("protocolInstall.marketplace.unverified.warning"),showIcon:!0,type:"warning",variant:"borderless"}):(0,i.Y)(c.A,{message:o("protocolInstall.custom.security.description"),showIcon:!0,type:"warning",variant:"borderless"}),(0,i.Y)(m.A,{gap:16,horizontal:!0,justify:"space-between",padding:16,variant:"outlined",children:(0,i.FD)(l.Flexbox,{gap:16,horizontal:!0,children:[(0,i.Y)(f.A,{avatar:Y.icon,size:40}),(0,i.FD)(l.Flexbox,{gap:2,children:[(0,i.FD)(l.Flexbox,{align:"center",gap:8,horizontal:!0,children:[Y.name,(0,i.Y)(y.A,{type:"customPlugin"})]}),(0,i.Y)(g.A,{style:{fontSize:12},type:"secondary",children:Y.description})]})]})}),(0,i.FD)(l.Flexbox,{children:[(0,i.Y)(I,{onConfigUpdate:A,schema:Y}),F.error&&(0,i.Y)(c.A,{closable:!0,description:F.error,message:o("protocolInstall.messages.connectionTestFailed"),showIcon:!0,type:"error",variant:"filled"})]})]})})});F.displayName="CustomPluginInstallModal";var Y=n(59681),E=n(259),P=n(68172),N=n(30210),$=n(79609),j=n(68398),T=n(31433),D=n(45769),L=n(18503),U=n(5973),z=n(41488),B=n(61451);let _=(0,d.memo)(({data:e,identifier:t})=>{let[n,a]=(0,d.useState)(B.lX.Overview);return(0,i.Y)(j.p_,{config:e,children:(0,i.FD)(l.Flexbox,{gap:16,children:[(0,i.Y)(T.A,{inModal:!0}),(0,i.Y)(N.A,{identifier:t}),(0,i.Y)(D.A,{activeTab:n,inModal:!0,noSettings:!0,setActiveTab:a}),(0,i.FD)(l.Flexbox,{gap:24,children:[n===B.lX.Overview&&(0,i.Y)(L.A,{inModal:!0}),n===B.lX.Deployment&&(0,i.Y)($.A,{}),n===B.lX.Schema&&(0,i.Y)(U.A,{}),n===B.lX.Score&&(0,i.Y)(z.A,{})]})]})})});_.displayName="OfficialDetail";let W=(0,d.memo)(({installRequest:e,onComplete:t})=>{let{message:n}=u.A.useApp(),{t:a}=(0,h.Bd)(["plugin","common"]),[l,o]=(0,d.useState)(!1),r=(0,E.Q)(e=>e.useFetchMcpDetail),s=e?.pluginId||"",[c,f]=(0,b.j)(e=>[P.w.isPluginInstalled(s)(e),e.installMCPPlugin]),y=(0,v.o)(e=>e.togglePlugin),{data:x,isLoading:w}=r({identifier:s}),A=(0,d.useCallback)(async()=>{if(e&&x){o(!0);try{o(!0),await f(s),await y(s),o(!1),n.success(a("protocolInstall.messages.installSuccess",{name:x.name})),t()}catch(e){console.error("Official plugin installation error:",e),n.error(a("protocolInstall.messages.installError")),o(!1)}}},[e,x]);return e?(0,i.Y)(p.A,{confirmLoading:l,okButtonProps:{disabled:c||w,type:c?"default":"primary"},okText:c?a("protocolInstall.actions.installed"):a("protocolInstall.actions.install"),onCancel:t,onOk:A,open:!0,title:a("protocolInstall.official.title"),width:800,children:w||!s?(0,i.Y)(Y.A,{}):x?(0,i.Y)(_,{data:x,identifier:s}):(0,i.Y)(m.A,{children:(0,i.Y)(g.A,{type:"danger",children:a("protocolInstall.messages.manifestError")})})}):null});W.displayName="OfficialPluginInstallModal";let R=(0,d.memo)(({installRequest:e,onComplete:t})=>{if(!e)return null;let n=(e=>{let{marketId:t}=e;return"lobehub"===t?k.OFFICIAL:t&&"lobehub"!==t?k.MARKETPLACE:k.CUSTOM})(e);return n===k.OFFICIAL?(0,i.Y)(W,{installRequest:e,onComplete:t}):(0,i.Y)(F,{installRequest:e,isMarketplace:n===k.MARKETPLACE,onComplete:t})});R.displayName="PluginInstallConfirmModal";let V=()=>{let[e,t]=(0,d.useState)(null),n=(0,d.useCallback)(e=>{t(e)},[]),a=(0,d.useCallback)(()=>{t(null)},[]);return(0,s.A8)("mcpInstallRequest",n),(0,i.Y)(R,{installRequest:e,onComplete:a})};var H=n(31021),X=n.n(H),K=n(86653),G=n(42626),q=n(21844),Q=n(57763),Z=n(46265),J=n(17068),ee=n(91804),et=n(5930),en=n(31065),ea=n(23047),ei=n(38991),el=n(91608);let eo=(0,d.memo)(()=>((()=>{let e,t,n,a,i,l,o,r,s,c,p,{enableScope:m,disableScope:g}=(0,K.wc)();e=(0,Q.F)(),(0,el.y)(ea.g8.OpenChatSettings,e),(()=>{let e=(0,et.o)(e=>e.status.zenMode),[t]=(0,ei.W)(),n=(0,et.o)(en.I.showSessionPanel),a=(0,et.o)(e=>e.updateSystemStatus);return(0,el.y)(ea.g8.ToggleLeftPanel,()=>a({sessionsWidth:320*!n,showSessionPanel:!n}),{enableOnContentEditable:!0,enabled:!e&&!t})})(),t=(0,et.o)(e=>e.status.zenMode),n=(0,et.o)(e=>e.toggleChatSideBar),(0,el.y)(ea.g8.ToggleRightPanel,()=>n(),{enableOnContentEditable:!0,enabled:!t}),a=(0,et.o)(e=>e.toggleZenMode),(0,el.y)(ea.g8.ToggleZenMode,a,{enableOnContentEditable:!0}),(()=>{let[e,t]=(0,J.L)(e=>[e.regenerateUserMessage,e.regenerateAssistantMessage]),n=(0,J.L)(e=>ee._1.mainAIChats(e).at(-1),X()),a=!n;return(0,el.y)(ea.g8.RegenerateMessage,()=>{if(n)return"user"===n.role?e(n.id):t(n.id)},{enableOnContentEditable:!0,enabled:!a})})(),i=(0,J.L)(e=>e.delAndRegenerateMessage),o=!(l=(0,J.L)(e=>ee._1.mainAIChats(e).at(-1),X()))||"default"===l.id||"system"===l.role,(0,el.y)(ea.g8.DeleteAndRegenerateMessage,()=>!o&&i(l.id),{enableOnContentEditable:!0,enabled:!o}),r=(0,J.L)(e=>e.deleteMessage),c=!(s=(0,J.L)(e=>ee._1.mainAIChats(e).at(-1),X()))||"default"===s.id||"system"===s.role,(0,el.y)(ea.g8.DeleteLastMessage,()=>!c&&r(s.id),{enableOnContentEditable:!0,enabled:!c}),(()=>{let e=(0,J.L)(e=>e.openNewTopicOrSaveTopic),{mutate:t}=(0,Z.Cf)("openNewTopicOrSaveTopic",e);return(0,el.y)(ea.g8.SaveTopic,()=>t(),{enableOnContentEditable:!0})})(),(()=>{let{send:e}=(0,G.q)();return(0,el.y)(ea.g8.AddUserMessage,()=>{e({onlyAddUserMessage:!0})},{enableOnContentEditable:!0})})(),p=(0,q.g)(),(0,el.y)(ea.g8.ClearCurrentMessages,()=>p(),{enableOnContentEditable:!0}),(0,d.useEffect)(()=>(m(ea.Gs.Chat),()=>g(ea.Gs.Chat)),[])})(),""));var er=n(83606),es=n(34367),ed=n(14654),ec=n(42213),ep=n(14872),em=n(49935),eg=n(20108),eu=n(31974),eh=n(60540);let ef=(0,w.rU)(({css:e,token:t})=>({panel:e`
    height: 100%;
    color: ${t.colorTextSecondary};
    background: ${t.colorBgLayout};

    #${eh.x} {
      opacity: 0;
      transition: opacity 0.15s ${t.motionEaseInOut};
    }

    &:hover {
      #${eh.x} {
        opacity: 1;
      }
    }
  `})),ey=(0,d.memo)(()=>{let e=(0,eg.f)(),{md:t=!0}=(0,ed.Q)(),[n]=(0,ei.W)(),{styles:a}=ef(),[l,o,r]=(0,et.o)(e=>[en.I.sessionWidth(e),en.I.showSessionPanel(e),e.updateSystemStatus]),[s,c]=(0,d.useState)(!!o),[p,m]=(0,d.useState)(l);p!==l&&m(l);let g=e=>{X()(e,o)||(r({showSessionPanel:e}),c(e))},u=(e,t)=>{if(!t)return;let n="string"==typeof t.width?Number.parseInt(t.width):t.width;!n||X()(n,l)||(m(n),r({sessionsWidth:n}))};(0,d.useEffect)(()=>{t&&s&&r({showSessionPanel:!0}),t||r({showSessionPanel:!1})},[t,s]);let{appearance:h}=(0,ec.e)();return(0,d.useMemo)(()=>e?(0,i.Y)("div",{style:{display:"none"},children:(0,i.Y)(eu.A,{mobile:!1})}):(0,i.Y)(er.Ay,{className:a.panel,defaultSize:{width:p},expand:!n&&o,expandable:!n,maxWidth:400,minWidth:em._7,mode:t?"fixed":"float",onExpandChange:g,onSizeChange:u,placement:"left",size:{height:"100%",width:l},children:(0,i.Y)(es.A,{style:{flex:"none",height:"100%",minWidth:em._7},children:(0,i.Y)(eu.A,{mobile:!1})})}),[l,t,n,o,p,h,e])}),ev=(0,ep.l)(ey),eb=(0,d.memo)(({children:e})=>{let t=(0,w.DP)();return(0,i.Y)(l.Flexbox,{flex:1,style:{background:t.colorBgContainerSecondary,overflow:"hidden",position:"relative"},children:e})}),ex=()=>(0,i.FD)(i.FK,{children:[(0,i.FD)(l.Flexbox,{height:"100%",horizontal:!0,style:{maxWidth:"100%",overflow:"hidden",position:"relative"},width:"100%",children:[(0,i.Y)(ev,{}),(0,i.Y)(eb,{children:(0,i.Y)(o.sv,{})})]}),(0,i.Y)(eo,{}),r.xl&&(0,i.Y)(V,{})]});ex.displayName="DesktopChatLayout";let ew=ex},14872:(e,t,n)=>{n.d(t,{l:()=>l});var a=n(28802),i=n(83034);let l=e=>t=>(0,a.Y)(i.Suspense,{children:(0,a.Y)(e,{...t})})},20549:(e,t,n)=>{n.d(t,{a:()=>l});var a=n(14654),i=n(83034);let l=()=>{let{mobile:e}=(0,a.Q)();return(0,i.useMemo)(()=>!!e,[e])}},21844:(e,t,n)=>{n.d(t,{A:()=>f,g:()=>h});var a=n(28802),i=n(73451),l=n(82145),o=n(83034),r=n(59121),s=n(20549),d=n(17068),c=n(56003),p=n(38759),m=n(42897),g=n(23047),u=n(75259);let h=()=>{let e=(0,d.L)(e=>e.clearMessage),t=(0,c.x)(e=>e.clearChatUploadFileList);return(0,o.useCallback)(async()=>{await e(),t()},[t,e])},f=(0,o.memo)(()=>{let{t:e}=(0,r.Bd)("setting"),t=(0,p.k)(m.w0.getHotkeyById(g.g8.ClearCurrentMessages)),n=h(),[d,c]=(0,o.useState)(!1),f=(0,s.a)(),y=d?void 0:e("clearCurrentMessages",{ns:"chat"});return(0,a.Y)(i.A,{arrow:!1,okButtonProps:{danger:!0,type:"primary"},onConfirm:n,onOpenChange:c,open:d,placement:f?"top":"topRight",title:(0,a.Y)("div",{style:{marginBottom:"8px",whiteSpace:"pre-line",wordBreak:"break-word"},children:e("confirmClearCurrentMessages",{ns:"chat"})}),children:(0,a.Y)(u.A,{icon:l.A,title:y,tooltipProps:{hotkey:t,placement:"bottom",styles:{root:{maxWidth:"none"}}}})})})},23676:(e,t,n)=>{n.d(t,{t:()=>s});var a=n(50786),i=n(23993),l=n(41734);let o={mentionedUsers:[]},r=(0,l.t)("mention"),s=(0,i.h)()(r((...e)=>({...o,...(e=>({...o,addMentionedUser:t=>{e(e=>({mentionedUsers:e.mentionedUsers.includes(t)?e.mentionedUsers:[...e.mentionedUsers,t]}),!1,"addMentionedUser")},clearMentionedUsers:()=>{e({mentionedUsers:[]},!1,"clearMentionedUsers")},removeMentionedUser:t=>{e(e=>({mentionedUsers:e.mentionedUsers.filter(e=>e!==t)}),!1,"removeMentionedUser")},setMentionedUsers:t=>{e({mentionedUsers:t},!1,"setMentionedUsers")}}))(...e)})),a.x)},29567:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},36740:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(28802),i=n(3136),l=n(12389),o=n(29567),r=n(71126),s=n(97299),d=n(83034),c=n(59121),p=n(50344);let m=(0,d.memo)(({showIcon:e=!0,showText:t=!0})=>(0,a.Y)(i.A,{icon:e&&(0,a.Y)(p.A,{}),size:"small",children:t&&"Model Context Protocol"})),g=(0,d.memo)(({showIcon:e=!0,author:t,type:n,showText:d=!0,isMCP:p})=>{let{t:g}=(0,c.Bd)("plugin"),u="customPlugin"===n,h="LobeHub"===t,f=(0,a.Y)(i.A,{color:"warning",icon:e&&(0,a.Y)(l.default,{icon:o.A}),size:"small",children:g("store.customPlugin")});return p?(0,a.FD)(a.FK,{children:[(0,a.Y)(m,{showIcon:e,showText:!1}),u&&f]}):u?f:(0,a.Y)(i.A,{color:h?"success":void 0,icon:e&&(0,a.Y)(l.default,{icon:h?r.A:s.A}),size:"small",children:d&&(t||g("store.communityPlugin"))})})},42626:(e,t,n)=>{n.d(t,{q:()=>x,G:()=>w});var a=n(73166),i=n(83034),l=n(71181),o=n(45541),r=n(88990),s=n(17068),d=n(38326),c=n(5569),p=n(3431),m=n(11439),g=n(91804),u=n(56003),h=n(74573),f=n(23676),y=n(64811),v=n(17869),b=n(38759);let x=()=>{let[e,t,n,f,y,v,x,w]=(0,s.L)(e=>[!e.inputMessage,e.sendMessage,e.addAIMessage,e.stopGenerateMessage,e.cancelSendMessageInServer,d.operationSelectors.isMainWindowAgentRuntimeRunning(e),c.R.isSendButtonDisabledByMessage(e),p.B.isCurrentSendMessageLoading(e)]),{analytics:A}=(0,a.st)(),C=(0,l.W)(),S=(0,u.x)(h.H.chatUploadFileList),[M,I]=(0,u.x)(e=>[h.H.isUploadingFiles(e),e.clearChatUploadFileList]),k=e&&0===S.length||M||x||w,O=async(e={})=>{if(k)return;let a=s.L.getState(),i=a.mainInputEditor;if(!i)return void console.warn("not found mainInputEditor instance");if(d.operationSelectors.isMainWindowAgentRuntimeRunning(a))return;let l=a.inputMessage,c=h.H.chatUploadFileList(u.x.getState());if(!l&&0===c.length)return;let p=(0,o._)(),f=r.e.currentAgentModel(p);if(!await C({model:f,prompt:l,scenario:"chat"}))return;e.onlyAddAIMessage?n():t({files:c,message:l,...e}),I(),i.setExpand(!1),i.clearContent(),i.focus();let y=(0,b.c)(),v=c.some(e=>e.file?.type?.startsWith("image")),x=c.some(e=>e.file?.type?.startsWith("video")),w=0===c.length?"text":x?"video":v?"image":"file";A?.track({name:"send_message",properties:{chat_id:a.activeId||"unknown",current_topic:m.e.currentActiveTopic(a)?.title||null,has_attachments:c.length>0,history_message_count:g._1.activeDisplayMessages(a).length,message:l,message_length:l.length,message_type:w,selected_model:r.e.currentAgentModel(p),session_id:a.activeId||"inbox",user_id:y.user?.id||"anonymous"}})},F=()=>{let e=(0,s.b)();d.operationSelectors.isMainWindowAgentRuntimeRunning(e)?f():p.B.isCurrentSendMessageLoading(e)&&y()};return(0,i.useMemo)(()=>({disabled:k,generating:v||w,send:O,stop:F}),[k,v,w,F,O])},w=()=>{let[e,t,n,p,x,w]=(0,s.L)(e=>[!e.inputMessage,e.sendGroupMessage,e.updateMessageInput,e.stopGenerateMessage,c.R.isSendButtonDisabledByMessage(e),c.R.isCreatingMessage(e)]),A=(0,s.L)(e=>g._1.isSupervisorLoading(e.activeId)(e)),{analytics:C}=(0,a.st)(),S=(0,l.W)(),M=h.H.chatUploadFileList(u.x.getState()),[I,k]=(0,u.x)(e=>[h.H.isUploadingFiles(e),e.clearChatUploadFileList]),O=e&&0===M.length||I||x||w||A,F=(0,i.useCallback)(async(e={})=>{if(O)return;let a=s.L.getState();if(!a.activeId)return;let i=a.mainInputEditor;if(!i)return void console.warn("not found mainInputEditor instance");if(g._1.isSupervisorLoading(a.activeId)(a)||c.R.isCreatingMessage(a))return;let l=a.inputMessage;if(!l&&0===M.length)return;let d=(0,o._)(),p=r.e.currentAgentModel(d);if(!await S({model:p,prompt:l,scenario:"chat"}))return;let u=f.t.getState(),h=u.mentionedUsers,x=y.B.getState(),w=h.length>0?` ${h.map(e=>v.G.getAgentMetaByAgentId(e)(x).title||e).map(e=>`@${e}`).join(" ")}`:"",A=`${l}${w}`.trim();t({files:M,groupId:a.activeId,message:A,targetMemberId:e.targetMemberId,...e}),k(),i.setExpand(!1),i.clearContent(),i.focus(),n(""),u.clearMentionedUsers();let I=(0,b.c)(),F=M.some(e=>e.file?.type?.startsWith("image")),Y=0===M.length?"text":F?"image":"file";C?.track({name:"send_group_message",properties:{chat_id:a.activeId||"unknown",current_topic:m.e.currentActiveTopic(a)?.title||null,has_attachments:M.length>0,history_message_count:g._1.activeDisplayMessages(a).length,message:l,message_length:l.length,message_type:Y,selected_model:r.e.currentAgentModel(d),session_id:a.activeId||"inbox",user_id:I.user?.id||"anonymous"}})},[O,M,k,n,C,S]),Y=(0,i.useCallback)(()=>{let e=(0,s.b)(),t=d.operationSelectors.isMainWindowAgentRuntimeRunning(e),n=c.R.isCreatingMessage(e);t?p():n&&console.warn("Group message creation in progress, cannot cancel")},[p]);return(0,i.useMemo)(()=>({disabled:O,generating:A||w,send:F,stop:Y,updateMessageInput:n}),[O,A,w,F,Y,n])}},53069:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(28802),i=n(69033),l=n(83034);let o=(0,l.memo)(({onChange:e,value:t,...n})=>{let o=(0,l.useRef)(null),r=(0,l.useRef)(!1),[s,d]=(0,l.useState)(t);return(0,l.useEffect)(()=>{d(t)},[t]),(0,a.Y)(i.A,{onBlur:()=>{e?.(s)},onChange:e=>{d(e.target.value)},onCompositionEnd:()=>{r.current=!1},onCompositionStart:()=>{r.current=!0},onPressEnter:()=>{r.current||e?.(s)},ref:o,...n,value:s})});o.displayName="FormInput";let r=o},55825:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},57763:(e,t,n)=>{n.d(t,{F:()=>d});var a=n(83034),i=n(27697),l=n(20549),o=n(45541),r=n(78397),s=n(64811);let d=(e=r.iL.Meta)=>{let t=(0,s.B)(e=>e.activeId),n=(0,l.a)(),d=(0,i.Zp)(),c=(0,i.zy)();return(0,a.useMemo)(()=>n?()=>d(`/chat/settings?session=${t}&showMobileWorkspace=true`):()=>{o.o.setState({showAgentSetting:!0})},[t,d,c.pathname,e,n])}},59681:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(28802),i=n(59202),l=n(11577),o=n(83034),r=n(80457);let s=(0,o.memo)(()=>{let e=(0,l.DP)();return(0,a.FD)(r.Flexbox,{gap:24,children:[(0,a.FD)(r.Flexbox,{gap:12,children:[(0,a.FD)(r.Flexbox,{align:"center",gap:16,horizontal:!0,width:"100%",children:[(0,a.Y)(i.A.Avatar,{active:!0,size:64}),(0,a.Y)(i.A.Button,{active:!0,style:{height:36,width:200}})]}),(0,a.Y)(i.A.Button,{active:!0,size:"small",style:{width:200}})]}),(0,a.FD)(r.Flexbox,{gap:12,height:54,horizontal:!0,style:{borderBottom:`1px solid ${e.colorBorder}`},children:[(0,a.Y)(i.A.Button,{}),(0,a.Y)(i.A.Button,{})]}),(0,a.FD)(r.Flexbox,{flex:1,gap:16,style:{overflow:"hidden"},width:"100%",children:[(0,a.Y)(i.A,{paragraph:{rows:3},title:!1}),(0,a.Y)(i.A,{paragraph:{rows:8},title:!1}),(0,a.Y)(i.A,{paragraph:{rows:8},title:!1})]})]})})},60851:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(28802),i=n(9274),l=n(12389),o=n(28755),r=n(11577),s=n(31021),d=n.n(s),c=n(80201),p=n(90897),m=n(83034),g=n(59121),u=n(80457),h=n(54483),f=n(53069);let y=(e={})=>Object.entries(e||{}).map(([e,t])=>({id:(0,h.A)(),key:e,value:"string"==typeof t?t:""})),v=(0,r.rU)(({css:e,token:t})=>({container:e`
    position: relative;

    width: 100%;
    padding: 12px;
    border: 1px solid ${t.colorBorderSecondary};
    border-radius: ${t.borderRadiusLG}px;
  `,input:e`
    font-family: ${t.fontFamilyCode};
    font-size: 12px;
  `,row:e`
    margin-block-end: 8px;

    &:last-child {
      margin-block-end: 0;
    }
  `,title:e`
    margin-block-end: 8px;
    color: ${t.colorTextTertiary};
  `})),b=(0,m.memo)(({value:e,onChange:t,keyPlaceholder:n,valuePlaceholder:r,addButtonText:s,duplicateKeyErrorText:b,deleteTooltip:x,style:w})=>{let A,C,{styles:S}=v(),{t:M}=(0,g.Bd)("components"),[I,k]=(0,m.useState)(()=>y(e)),O=(0,m.useRef)(void 0);(0,m.useEffect)(()=>{let t=e||{};d()(t,O.current)||(k(y(t)),O.current=t)},[e]);let F=e=>{let n={};e.forEach(e=>{let t=e.key.trim();t&&(n[t]=(n[t]||0)+1)}),k(e.map(e=>({...e}))),t?.(((e=[])=>{let t={},n=new Set;return(e||[]).slice().reverse().forEach(e=>{let a=e.key.trim();a&&!n.has(a)&&(t[a]="string"==typeof e.value?e.value:"",n.add(a))}),Object.keys(t).reverse().reduce((e,n)=>(e[n]=t[n],e),{})})(e))},Y=(A=new Set,C=new Set,I.forEach(e=>{let t=e.key.trim();t&&(A.has(t)?C.add(t):A.add(t))}),C);return(0,a.FD)("div",{className:S.container,style:w,children:[(0,a.FD)(u.Flexbox,{className:S.title,gap:8,horizontal:!0,children:[(0,a.Y)(u.Flexbox,{flex:1,children:n||M("KeyValueEditor.keyPlaceholder")}),(0,a.Y)(u.Flexbox,{flex:2,children:r||M("KeyValueEditor.valuePlaceholder")}),(0,a.Y)(u.Flexbox,{style:{width:30}})]}),(0,a.FD)(u.Flexbox,{width:"100%",children:[I.map(e=>{let t=e.key.trim()&&Y.has(e.key.trim());return(0,a.FD)(u.Flexbox,{align:"flex-start",className:S.row,gap:8,horizontal:!0,width:"100%",children:[(0,a.FD)(u.Flexbox,{flex:1,style:{position:"relative"},children:[(0,a.Y)(f.A,{className:S.input,onChange:t=>{var n;return n=e.id,void F(I.map(e=>e.id===n?{...e,key:t}:e))},placeholder:n||M("KeyValueEditor.keyPlaceholder"),status:t?"error":void 0,value:e.key,variant:"filled"}),t&&(0,a.Y)("div",{style:{bottom:"-16px",color:"red",fontSize:"12px",position:"absolute"},children:b||M("KeyValueEditor.duplicateKeyError")})]}),(0,a.Y)(u.Flexbox,{flex:2,children:(0,a.Y)(f.A,{className:S.input,onChange:t=>{var n;return n=e.id,void F(I.map(e=>e.id===n?{...e,value:t}:e))},placeholder:r||M("KeyValueEditor.valuePlaceholder"),value:e.value,variant:"filled"})}),(0,a.Y)(i.A,{icon:c.A,onClick:()=>{var t;return t=e.id,void F(I.filter(e=>e.id!==t))},size:"small",style:{marginTop:4},title:x||M("KeyValueEditor.deleteTooltip")})]},e.id)}),(0,a.Y)(o.Ay,{block:!0,icon:(0,a.Y)(l.default,{icon:p.A}),onClick:()=>{F([...I,{id:(0,h.A)(),key:"",value:""}])},size:"small",style:{marginTop:I.length>0?16:8},type:"dashed",children:s||M("KeyValueEditor.addButton")})]})]})})},61405:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(28802),i=n(50344),l=n(67072),o=n(11577);let r=(0,n(83034).memo)(({avatar:e,style:t,size:n=40,alt:r})=>{let s=(0,o.DP)();return"MCP_AVATAR"===e?(0,a.Y)(i.A.Avatar,{className:`${s.prefixCls}-avatar`,size:n,style:{flex:"none",overflow:"hidden",...t}}):(0,a.Y)(l.A,{alt:r,avatar:e,size:n,style:{flex:"none",overflow:"hidden",...t}})})},66044:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(28802),i=n(38153),l=n(11577),o=n(83034),r=n(20549);let s=(0,l.rU)(({css:e,prefixCls:t})=>({dropdownMenu:e`
    &.${t}-dropdown-menu {
      .${t}-dropdown-menu-item-group-list {
        margin: 0;
      }
      .${t}-avatar {
        margin-inline-end: var(--ant-margin-xs);
      }
    }
  `})),d=(0,o.memo)(({menu:e,maxHeight:t,minWidth:n,maxWidth:l,children:o,placement:d="top",...c})=>{let{cx:p,styles:m}=s(),g=(0,r.a)();return(0,a.Y)(i.A,{arrow:!1,destroyOnHidden:!1,menu:{...e,className:p(m.dropdownMenu,e.className),onClick:t=>{t.domEvent.preventDefault(),e.onClick?.(t)},style:{maxHeight:t,maxWidth:g?void 0:l,minWidth:g?void 0:n,overflowX:"hidden",overflowY:"scroll",width:g?"100vw":void 0,...e.style}},placement:g?"top":d,...c,children:o})})},71126:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},71181:(e,t,n)=>{n.d(t,{W:()=>p});var a=n(28802),i=n(60317),l=n(58244),o=n(87508),r=n(83034),s=n(59121),d=n(5930),c=n(31065);let p=()=>{let{t:e}=(0,s.Bd)("common"),{modal:t}=l.A.useApp(),[n,p]=(0,d.o)(e=>[c.I.systemStatus(e).hideGemini2_5FlashImagePreviewChineseWarning??!1,e.updateSystemStatus]);return(0,r.useCallback)(async({model:l,prompt:r,scenario:s="chat"})=>!(l.includes("gemini-2.5-flash-image-preview")&&!n&&r&&(0,i.xh)(r))||new Promise(n=>{let i=!1,l="image"===s?e("geminiImageChineseWarning.continueGenerate"):e("geminiImageChineseWarning.continueSend");t.confirm({cancelText:e("cancel",{ns:"common"}),centered:!0,content:(0,a.FD)("div",{children:[(0,a.Y)("p",{children:e("geminiImageChineseWarning.content")}),(0,a.Y)("div",{style:{marginTop:16},children:(0,a.Y)(o.A,{onChange:e=>{i=e.target.checked},children:e("geminiImageChineseWarning.doNotShowAgain")})})]}),okText:l,onCancel:()=>{n(!1)},onOk:()=>{i&&p({hideGemini2_5FlashImagePreviewChineseWarning:!0}),n(!0)},title:e("geminiImageChineseWarning.title")})}),[t,e,n,p])}},73451:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(83034),i=n(50143),l=n(52762),o=n.n(l),r=n(37255),s=n(51103),d=n(67863),c=n(67693),p=n(38605),m=n(32181),g=n(28755),u=n(73211),h=n(12353),f=n(31352),y=n(76253);let v=(0,n(94348).OF)("Popconfirm",e=>(e=>{let{componentCls:t,iconCls:n,antCls:a,zIndexPopup:i,colorText:l,colorWarning:o,marginXXS:r,marginXS:s,fontSize:d,fontWeightStrong:c,colorTextHeading:p}=e;return{[t]:{zIndex:i,[`&${a}-popover`]:{fontSize:d},[`${t}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:o,fontSize:d,lineHeight:1,marginInlineEnd:s},[`${t}-title`]:{fontWeight:c,color:p,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:r,color:l}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}})(e),e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1});var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};let x=e=>{let{prefixCls:t,okButtonProps:n,cancelButtonProps:l,title:o,description:r,cancelText:s,okText:c,okType:y="primary",icon:v=a.createElement(i.A,null),showCancel:b=!0,close:x,onConfirm:w,onCancel:A,onPopupClick:C}=e,{getPrefixCls:S}=a.useContext(d.QO),[M]=(0,h.A)("Popconfirm",f.A.Popconfirm),I=(0,m.b)(o),k=(0,m.b)(r);return a.createElement("div",{className:`${t}-inner-content`,onClick:C},a.createElement("div",{className:`${t}-message`},v&&a.createElement("span",{className:`${t}-message-icon`},v),a.createElement("div",{className:`${t}-message-text`},I&&a.createElement("div",{className:`${t}-title`},I),k&&a.createElement("div",{className:`${t}-description`},k))),a.createElement("div",{className:`${t}-buttons`},b&&a.createElement(g.Ay,Object.assign({onClick:A,size:"small"},l),s||(null==M?void 0:M.cancelText)),a.createElement(p.A,{buttonProps:Object.assign(Object.assign({size:"small"},(0,u.DU)(y)),n),actionFn:w,close:x,prefixCls:S("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||(null==M?void 0:M.okText))))};var w=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};let A=a.forwardRef((e,t)=>{var n,l;let{prefixCls:p,placement:m="top",trigger:g="click",okType:u="primary",icon:h=a.createElement(i.A,null),children:f,overlayClassName:y,onOpenChange:b,onVisibleChange:A,overlayStyle:C,styles:S,classNames:M}=e,I=w(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:k,className:O,style:F,classNames:Y,styles:E}=(0,d.TP)("popconfirm"),[P,N]=(0,r.A)(!1,{value:null!=(n=e.open)?n:e.visible,defaultValue:null!=(l=e.defaultOpen)?l:e.defaultVisible}),$=(e,t)=>{N(e,!0),null==A||A(e),null==b||b(e,t)},j=k("popconfirm",p),T=o()(j,O,y,Y.root,null==M?void 0:M.root),D=o()(Y.body,null==M?void 0:M.body),[L]=v(j);return L(a.createElement(c.A,Object.assign({},(0,s.A)(I,["title"]),{trigger:g,placement:m,onOpenChange:(t,n)=>{let{disabled:a=!1}=e;a||$(t,n)},open:P,ref:t,classNames:{root:T,body:D},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},E.root),F),C),null==S?void 0:S.root),body:Object.assign(Object.assign({},E.body),null==S?void 0:S.body)},content:a.createElement(x,Object.assign({okType:u,icon:h},e,{prefixCls:j,close:e=>{$(!1,e)},onConfirm:t=>{var n;return null==(n=e.onConfirm)?void 0:n.call(void 0,t)},onCancel:t=>{var n;$(!1,t),null==(n=e.onCancel)||n.call(void 0,t)}})),"data-popover-inject":!0}),f))});A._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,placement:n,className:i,style:l}=e,r=b(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=a.useContext(d.QO),c=s("popconfirm",t),[p]=v(c);return p(a.createElement(y.Ay,{placement:n,className:o()(c,i),style:l,content:a.createElement(x,Object.assign({prefixCls:c},r))}))};let C=A},74573:(e,t,n)=>{n.d(t,{H:()=>o,w:()=>l});var a=n(76256);let i=e=>e.chatUploadFileList,l={chatUploadFileList:i,isImageUploading:e=>e.uploadingIds.length>0},o={chatRawFileList:e=>e.chatUploadFileList.map(e=>e.file),chatUploadFileList:i,chatUploadFileListHasItem:e=>e.chatUploadFileList.length>0,isUploadingFiles:e=>e.chatUploadFileList.some(e=>a.C.has(e.status)||e.tasks&&!e.tasks?.finishEmbedding)}},75259:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(28802),i=n(9274),l=n(39639),o=n(83034),r=n(63639),s=n(62326),d=n(66044),c=n(82340);let p=(0,o.memo)(({showTooltip:e,loading:t,icon:n,title:o,dropdown:p,popover:m,open:g,onOpenChange:u,trigger:h,disabled:f,onClick:y,...v})=>{let[b,x]=(0,r.A)(!1,{onChange:u,value:g}),w=(0,s.wo)(e=>e.isMobile),A=(0,a.Y)(i.A,{disabled:f,icon:n,loading:t,onClick:e=>{if(y)return y(e);x(!0)},title:(0,l.A)(e)?w?void 0:o:e?o:void 0,tooltipProps:{placement:"bottom"},...v,size:{blockSize:36,size:20}});return f?A:p?(0,a.Y)(d.A,{onOpenChange:x,open:b,trigger:h,...p,minWidth:w?"100%":p.minWidth,placement:w?"top":p.placement,children:A}):m?(0,a.Y)(c.A,{onOpenChange:x,open:b,trigger:h,...m,minWidth:w?"100%":m.minWidth,placement:w?"top":m.placement,children:A}):A})},80201:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},81819:(e,t,n)=>{n.d(t,{A:()=>u});var a,i,l,o=n(83034);function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,n(11577).rU)(function(e){var t=e.css;return{bottom:t(a||(a=r(["\n      padding-block-end: env(safe-area-inset-bottom);\n    "]))),container:t(i||(i=r(["\n      overflow: hidden;\n      flex: none;\n      width: 100vw;\n    "]))),top:t(l||(l=r(["\n      padding-block-start: env(safe-area-inset-top);\n    "])))}}),d=n(54898);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=["position","className"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var g=(0,o.memo)(function(e){var t=e.position,n=e.className,a=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,p),i=s(),l=i.styles,o=i.cx;return(0,d.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var a,i,l;a=e,i=t,l=n[t],(i=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=c(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:o(l.container,l[t],n)},a))});g.displayName="SafeArea";let u=g},82145:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]])},82340:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(28802),i=n(67693),l=n(11577),o=n(83034),r=n(80457),s=n(12389),d=n(85017);let c=(0,o.memo)(({size:e,style:t})=>(0,a.Y)("div",{style:t,children:(0,a.Y)(s.default,{icon:d.A,size:e,spin:!0})}));var p=n(20549);let m=(0,l.rU)(({css:e,prefixCls:t})=>({popoverContent:e`
    .${t}-form {
      .${t}-form-item:first-child {
        padding-block: 0 4px;
      }
      .${t}-form-item:last-child {
        padding-block: 4px 0;
      }
    }
  `})),g=(0,o.memo)(({styles:e,maxHeight:t,maxWidth:n,minWidth:l,children:o,classNames:s,title:d,placement:g,loading:u,extra:h,...f})=>{let{cx:y,styles:v,theme:b}=m(),x=(0,p.a)();return(0,a.Y)(i.A,{arrow:!1,classNames:{...s,body:y(v.popoverContent,s?.body)},placement:x?"top":g,styles:{...e,body:{maxHeight:t,maxWidth:x?void 0:n,minWidth:x?void 0:l,width:x?"100vw":void 0,...e?.body}},title:d&&(0,a.FD)(r.Flexbox,{gap:8,horizontal:!0,justify:"space-between",style:{marginBottom:16},children:[d,h,u&&(0,a.Y)(c,{style:{color:b.colorTextSecondary}})]}),...f,children:o})})},90897:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},97299:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(28709).A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])}}]);