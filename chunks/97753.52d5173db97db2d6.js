"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20134,97753],{38759:(e,t,n)=>{n.d(t,{c:()=>M,k:()=>T});var a=n(14308),i=n(50786),r=n(23993),l=n(41734),s=n(89872);let c={preference:s.I},d={...{defaultSettings:n(74551).a$,settings:{}},...c,...{},...{isOnboard:!1,isShowPWAGuide:!1,isUserCanEnableTrace:!1,isUserHasConversation:!1,isUserStateInit:!1}};var o=n(96773),u=n(70674),g=n(64911),h=n(85366),p=n(46265),m=n(55582),S=n(67095),b=n(61497),f=n(71457);let w=(0,b.K)("common"),$="initUserState",v=(0,b.K)("preference");var y=n(31021),k=n.n(y),I=n(19530),A=n(45628);class x{constructor(){this.createShareSettingsUrl=e=>`/?${A.N}=${encodeURI(JSON.stringify(e))}`,this.decodeShareSettings=e=>{try{return{data:JSON.parse(e)}}catch(e){return{message:JSON.stringify(e)}}}}}let C=new x;var N=n(34743),U=n(1866),E=n(28074);let O=(0,l.t)("user"),T=(0,r.h)()((0,a.eh)(O((...e)=>({...d,...((e,t)=>({addToolToAllowList:async e=>{let n=t().settings.tool?.humanIntervention?.allowList||[];n.includes(e)||await t().setSettings({tool:{humanIntervention:{allowList:[...n,e]}}})},importAppSettings:async e=>{let{setSettings:n}=t();await n(e)},importUrlShareSettings:async e=>{if(e){let n=C.decodeShareSettings(e);!n?.message&&n?.data&&await t().setSettings(n.data)}},internal_createSignal:()=>{let n=t().updateSettingsSignal;n&&!n.signal.aborted&&n.abort(I.ve);let a=new AbortController;return e({updateSettingsSignal:a},!1,"signalForUpdateSettings"),a},resetSettings:async()=>{await m.W.resetUserSettings(),await t().refreshUserState()},setSettings:async n=>{let a,{settings:i,defaultSettings:r}=t(),l=(0,S.h)(i,n);if(k()(i,l))return;let s=(a=(e,t)=>(0,N.A)(e,(e,n,i)=>{(0,U.A)(n)&&(0,U.A)(t[i])?k()(n,t[i])||(e[i]=n):k()(n,t[i])||(e[i]=(0,E.A)(n)&&(0,E.A)(t[i])?a(n,t[i]):n)}))(l,r);e({settings:s},!1,"optimistic_updateSettings");let c=t().internal_createSignal();await m.W.updateUserSettings(s,c.signal),await t().refreshUserState()},updateDefaultAgent:async e=>{await t().setSettings({defaultAgent:e})},updateGeneralConfig:async e=>{await t().setSettings({general:e})},updateHumanIntervention:async e=>{let n=t().settings.tool?.humanIntervention||{};await t().setSettings({tool:{humanIntervention:{...n,...e}}})},updateKeyVaults:async e=>{await t().setSettings({keyVaults:e})},updateSystemAgent:async(e,n)=>{await t().setSettings({systemAgent:{[e]:{...n}}})}}))(...e),...((e,t)=>({updateGuideState:async e=>{let{updatePreference:n}=t(),a=(0,S.h)(t().preference.guide,e);await n({guide:a})},updateLab:async e=>{let{updatePreference:n}=t(),a=(0,S.h)(t().preference.lab,e);await n({lab:a},v("updateLab"))},updatePreference:async(n,a)=>{let i=(0,S.h)(t().preference,n);e({preference:i},!1,a||v("updatePreference")),await m.W.updatePreference(i)}}))(...e),...((e,t)=>({enableAuth:()=>o.S4,logout:async()=>{if(o.Nd)return void t().clerkSignOut?.({redirectUrl:location.toString()});if(o.J_){let{signOut:e}=await n.e(4975).then(n.bind(n,4975));e()}},openLogin:async()=>{if(o.Nd){let e=location.toString();t().clerkSignIn?.({fallbackRedirectUrl:e,signUpForceRedirectUrl:e,signUpUrl:"/signup"});return}if(o.J_){let{signIn:e}=await n.e(4975).then(n.bind(n,4975)),a=t()?.oAuthSSOProviders;if(a&&1===a.length)return void e(a[0]);e()}}}))(...e),...((e,t)=>({refreshUserState:async()=>{await (0,g.j)($)},updateAvatar:async e=>{await m.W.updateAvatar(e),await t().refreshUserState()},updateKeyVaultConfig:async(e,n)=>{await t().setSettings({keyVaults:{[e]:n}})},useCheckTrace:e=>(0,h.Ay)(e?"checkTrace":null,()=>"boolean"==typeof f.U.userAllowTrace(t())?Promise.resolve(!1):Promise.resolve(t().isUserCanEnableTrace),{revalidateOnFocus:!1}),useInitUserState:(n,a,i)=>(0,p.Ju)(n?$:null,()=>m.W.getUserState(),{onError:e=>{i?.onError?.(e)},onSuccess:n=>{if(i?.onSuccess?.(n),n){let i={defaultAgent:a.defaultAgent,image:a.image,systemAgent:a.systemAgent},r=(0,S.h)(t().defaultSettings,i),l=0===Object.keys(n.preference||{}).length?s.I:n.preference,c=n.avatar||n.userId?(0,S.h)(t().user,{avatar:n.avatar,email:n.email,firstName:n.firstName,fullName:n.fullName,id:n.userId,latestName:n.lastName,username:n.username}):t().user;e({defaultSettings:r,isOnboard:n.isOnboard,isShowPWAGuide:n.canEnablePWAGuide,isUserCanEnableTrace:n.canEnableTrace,isUserHasConversation:n.hasConversation,isUserStateInit:!0,preference:l,settings:n.settings||{},subscriptionPlan:n.subscriptionPlan,user:c},!1,w("initUserState"));let d=(0,u.wZ)();d?.identify(n.userId||"",{email:n.email,firstName:n.firstName,lastName:n.lastName,username:n.username})}}})}))(...e)}))),i.x),M=()=>T.getState()},42507:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(83034),i=n(42550),r=n(52762),l=n.n(r),s=n(5686),c=n(19099),d=n(45440),o=n(63368),u=n(37255),g=n(70520),h=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],p=a.forwardRef(function(e,t){var n,i=e.prefixCls,r=void 0===i?"rc-switch":i,p=e.className,m=e.checked,S=e.defaultChecked,b=e.disabled,f=e.loadingIcon,w=e.checkedChildren,$=e.unCheckedChildren,v=e.onClick,y=e.onChange,k=e.onKeyDown,I=(0,o.A)(e,h),A=(0,u.A)(!1,{value:m,defaultValue:S}),x=(0,d.A)(A,2),C=x[0],N=x[1];function U(e,t){var n=C;return b||(N(n=e),null==y||y(n,t)),n}var E=l()(r,p,(n={},(0,c.A)(n,"".concat(r,"-checked"),C),(0,c.A)(n,"".concat(r,"-disabled"),b),n));return a.createElement("button",(0,s.A)({},I,{type:"button",role:"switch","aria-checked":C,disabled:b,className:E,ref:t,onKeyDown:function(e){e.which===g.A.LEFT?U(!1,e):e.which===g.A.RIGHT&&U(!0,e),null==k||k(e)},onClick:function(e){var t=U(!C,e);null==v||v(t,e)}}),f,a.createElement("span",{className:"".concat(r,"-inner")},a.createElement("span",{className:"".concat(r,"-inner-checked")},w),a.createElement("span",{className:"".concat(r,"-inner-unchecked")},$)))});p.displayName="Switch";var m=n(52934),S=n(67863),b=n(93135),f=n(43229),w=n(53414),$=n(6139),v=n(21637),y=n(94348),k=n(83959);let I=(0,y.OF)("Switch",e=>{let t=(0,k.oX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[(e=>{let{componentCls:t,trackHeight:n,trackMinWidth:a}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,v.dF)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:a,height:n,lineHeight:(0,w.zA)(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,v.K8)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}})(t),(e=>{let{componentCls:t,trackHeight:n,trackPadding:a,innerMinMargin:i,innerMaxMargin:r,handleSize:l,calc:s}=e,c=`${t}-inner`,d=(0,w.zA)(s(l).add(s(a).mul(2)).equal()),o=(0,w.zA)(s(r).mul(2).equal());return{[t]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:r,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${c}-checked, ${c}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${o})`,marginInlineEnd:`calc(100% - ${d} + ${o})`},[`${c}-unchecked`]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${c}`]:{paddingInlineStart:i,paddingInlineEnd:r,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${o})`,marginInlineEnd:`calc(-100% + ${d} - ${o})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:s(a).mul(2).equal(),marginInlineEnd:s(a).mul(-1).mul(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:s(a).mul(-1).mul(2).equal(),marginInlineEnd:s(a).mul(2).equal()}}}}}})(t),(e=>{let{componentCls:t,trackPadding:n,handleBg:a,handleShadow:i,handleSize:r,calc:l}=e,s=`${t}-handle`;return{[t]:{[s]:{position:"absolute",top:n,insetInlineStart:n,width:r,height:r,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:l(r).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${s}`]:{insetInlineStart:`calc(100% - ${(0,w.zA)(l(r).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}})(t),(e=>{let{componentCls:t,handleSize:n,calc:a}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:a(a(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}})(t),(e=>{let{componentCls:t,trackHeightSM:n,trackPadding:a,trackMinWidthSM:i,innerMinMarginSM:r,innerMaxMarginSM:l,handleSizeSM:s,calc:c}=e,d=`${t}-inner`,o=(0,w.zA)(c(s).add(c(a).mul(2)).equal()),u=(0,w.zA)(c(l).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:(0,w.zA)(n),[`${t}-inner`]:{paddingInlineStart:l,paddingInlineEnd:r,[`${d}-checked, ${d}-unchecked`]:{minHeight:n},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${o} - ${u})`,marginInlineEnd:`calc(100% - ${o} + ${u})`},[`${d}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:s,height:s},[`${t}-loading-icon`]:{top:c(c(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:r,paddingInlineEnd:l,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${o} + ${u})`,marginInlineEnd:`calc(-100% + ${o} - ${u})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,w.zA)(c(s).add(a).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:c(e.marginXXS).div(2).equal(),marginInlineEnd:c(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:c(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:c(e.marginXXS).div(2).equal()}}}}}}})(t)]},e=>{let{fontSize:t,lineHeight:n,controlHeight:a,colorWhite:i}=e,r=t*n,l=a/2,s=r-4,c=l-4;return{trackHeight:r,trackHeightSM:l,trackMinWidth:2*s+8,trackMinWidthSM:2*c+4,trackPadding:2,handleBg:i,handleSize:s,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new $.Y("#00230b").setA(.2).toRgbString()}`,innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:c/2,innerMaxMarginSM:c+2+4}});var A=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};let x=a.forwardRef((e,t)=>{let{prefixCls:n,size:r,disabled:s,loading:c,className:d,rootClassName:o,style:g,checked:h,value:w,defaultChecked:$,defaultValue:v,onChange:y}=e,k=A(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[x,C]=(0,u.A)(!1,{value:null!=h?h:w,defaultValue:null!=$?$:v}),{getPrefixCls:N,direction:U,switch:E}=a.useContext(S.QO),O=a.useContext(b.A),T=(null!=s?s:O)||c,M=N("switch",n),D=a.createElement("div",{className:`${M}-handle`},c&&a.createElement(i.A,{className:`${M}-loading-icon`})),[P,q,z]=I(M),F=(0,f.A)(r),L=l()(null==E?void 0:E.className,{[`${M}-small`]:"small"===F,[`${M}-loading`]:c,[`${M}-rtl`]:"rtl"===U},d,o,q,z),H=Object.assign(Object.assign({},null==E?void 0:E.style),g);return P(a.createElement(m.A,{component:"Switch",disabled:T},a.createElement(p,Object.assign({},k,{checked:x,onChange:(...e)=>{C(e[0]),null==y||y.apply(void 0,e)},prefixCls:M,className:L,style:H,disabled:T,ref:t,loadingIcon:D}))))});x.__ANT_SWITCH=!0;let C=x},55582:(e,t,n)=>{n.d(t,{W:()=>r});var a=n(77605);class i{constructor(){this.getUserRegistrationDuration=async()=>a.du.user.getUserRegistrationDuration.query(),this.getUserState=async()=>a.du.user.getUserState.query(),this.getUserSSOProviders=async()=>a.du.user.getUserSSOProviders.query(),this.unlinkSSOProvider=async(e,t)=>a.du.user.unlinkSSOProvider.mutate({provider:e,providerAccountId:t}),this.makeUserOnboarded=async()=>a.du.user.makeUserOnboarded.mutate(),this.updateAvatar=async e=>a.du.user.updateAvatar.mutate(e),this.updatePreference=async e=>a.du.user.updatePreference.mutate(e),this.updateGuide=async e=>a.du.user.updateGuide.mutate(e),this.updateUserSettings=async(e,t)=>a.du.user.updateSettings.mutate(e,{signal:t}),this.resetUserSettings=async()=>a.du.user.resetSettings.mutate()}}let r=new i},58073:(e,t,n)=>{n.d(t,{e:()=>i});var a=n(74551);let i={enableGroupChat:e=>e.preference.lab?.enableGroupChat??a.I4.lab.enableGroupChat,enableInputMarkdown:e=>e.preference.lab?.enableInputMarkdown??a.I4.lab.enableInputMarkdown}},59421:(e,t,n)=>{n.d(t,{k:()=>s});var a=n(28802),i=n(59202),r=n(11577);let l=(0,r.cx)((0,r.AH)`
  width: 44px !important;
  min-width: 44px !important;
  height: 22px !important;
  border-radius: 12px !important;
`),s=()=>(0,a.Y)(i.A.Button,{active:!0,className:l})},71457:(e,t,n)=>{n.d(t,{U:()=>i});var a=n(74551);let i={hideSettingsMoveGuide:e=>e.preference.guide?.moveSettingsToAvatar,hideSyncAlert:e=>e.preference.hideSyncAlert,isPreferenceInit:e=>e.isUserStateInit,shouldTriggerFileInKnowledgeBaseTip:e=>"boolean"!=typeof e.preference.guide?.moveSettingsToAvatar,showUploadFileInKnowledgeBaseTip:e=>e.preference.guide?.uploadFileInKnowledgeBase,topicDisplayMode:e=>e.preference.topicDisplayMode||a.I4.topicDisplayMode,useCmdEnterToSend:e=>e.preference.useCmdEnterToSend||!1,userAllowTrace:e=>e.preference.telemetry}},97753:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(28802),i=n(83034),r=n(59121),l=n(80457),s=n(38759),c=n(71457),d=n(58073),o=n(11577);let u=(0,o.rU)(({css:e,token:t})=>({container:e`
    width: 100%;
    max-width: 800px;
    margin-block: 0;
    margin-inline: auto;
    padding-block: 24px 8px;
    padding-inline: 16px;
  `,desc:e`
    color: ${t.colorTextSecondary};
  `,title:e`
    font-size: 22px;
    font-weight: 600;
    color: ${t.colorText};
  `})),g=(0,i.memo)(()=>{let{styles:e}=u(),{t}=(0,r.Bd)("labs");return(0,a.Y)("div",{className:e.container,children:(0,a.FD)(l.Flexbox,{gap:8,children:[(0,a.FD)("div",{className:e.title,children:["\uD83E\uDE84 ",t("title")]}),(0,a.Y)("div",{className:e.desc,children:t("desc")})]})})});g.displayName="LabsHero";var h=n(42507),p=n(65101),m=n(59421);let S=(0,o.rU)(({css:e,token:t})=>({card:e`
    width: 100%;
    max-width: 800px;
    margin-block: 0;
    margin-inline: auto;
    padding: 16px;
    border: 1px solid ${t.colorBorderSecondary};
    border-radius: 12px;

    background: ${t.colorBgContainer};
  `,desc:e`
    color: ${t.colorTextSecondary};
  `,meta:e`
    font-size: 12px;
    color: ${t.colorTextTertiary};
  `,row:e`
    display: grid;
    grid-template-columns: 250px 1fr 80px;
    gap: 16px;
    align-items: center;
  `,thumb:e`
    position: relative;

    overflow: hidden;

    width: 250px;
    height: 150px;
    border-radius: ${t.borderRadiusLG}px;

    background: linear-gradient(135deg, ${t.colorFillTertiary}, ${t.colorFillQuaternary});
  `,title:e`
    font-size: 16px;
    font-weight: 600;
    color: ${t.colorText};
  `,wrap:e`
    width: 100%;
  `})),b=(0,i.memo)(({title:e,desc:t,checked:n,onChange:i,meta:r,loading:s,cover:c})=>{let{styles:d}=S();return(0,a.Y)("div",{className:d.wrap,children:(0,a.Y)("div",{className:d.card,children:(0,a.FD)("div",{className:d.row,children:[(0,a.Y)("div",{className:d.thumb,children:c&&(0,a.Y)(p.default,{alt:e,fill:!0,src:c,style:{objectFit:"cover"},unoptimized:!0})}),(0,a.FD)(l.Flexbox,{gap:6,children:[(0,a.Y)("div",{className:d.title,children:e}),(0,a.Y)("div",{className:d.desc,children:t}),r?(0,a.Y)("div",{className:d.meta,children:r}):null]}),(0,a.Y)(l.Flexbox,{align:"flex-end",height:"100%",justify:"center",paddingInline:8,children:s?(0,a.Y)(m.k,{}):(0,a.Y)(h.A,{checked:n,onChange:i})})]})})})});b.displayName="LabCard";let f=(0,i.memo)(()=>{let{t:e}=(0,r.Bd)("labs"),[t,n,i]=(0,s.k)(e=>[c.U.isPreferenceInit(e),d.e.enableInputMarkdown(e),e.updateLab]),o=[{checked:n,cover:"https://github.com/user-attachments/assets/0527a966-3d95-46b4-b880-c0f3fca18f02",desc:e("features.inputMarkdown.desc"),key:"enableInputMarkdown",title:e("features.inputMarkdown.title")}];return(0,a.FD)(l.Flexbox,{gap:16,padding:8,style:{alignItems:"center",width:"100%"},children:[(0,a.Y)(g,{}),o.map(e=>(0,a.Y)(b,{checked:e.checked,cover:e.cover,desc:e.desc,loading:!t,onChange:t=>i({[e.key]:t}),title:e.title},e.key))]})});f.displayName="LabsPage";let w=f}}]);