"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22210,91e3],{3675:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(28709).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9274:(e,t,n)=>{n.d(t,{A:()=>w});var r,i,s=n(65890),o=n(85017),a=n(83034),l=n(20480),c=n(12389),u=n(37412),d=n(74912),p=function(e){if((0,d.A)(e)){var t,n,r=1.8*e;return{blockSize:r,borderRadius:Math.floor(r/6)}}switch(e){case"large":t=44,n=8;break;case"middle":t=36,n=6;break;case"small":t=24,n=4;break;default:e?(t=(null==e?void 0:e.blockSize)||36,n=(null==e?void 0:e.borderRadius)||6):(t="1.8em",n="0.3em")}return{blockSize:t,borderRadius:n}};function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=(0,n(11577).rU)(function(e){var t=e.isDarkMode,n=e.css,s=e.token,o=e.stylish;return{active:o.active,borderless:o.variantBorderless,dangerBorderless:o.variantBorderlessDanger,dangerFilled:o.variantFilledDanger,dangerOutlined:o.variantOutlinedDanger,dangerRoot:n(r||(r=m(["\n      &:hover {\n        color: ",";\n      }\n\n      &:active {\n        color: ",";\n      }\n    "])),s.colorError,s.colorErrorActive),disabled:o.disabled,filled:o.variantFilled,glass:o.blur,outlined:o.variantOutlined,root:n(i||(i=m(["\n      cursor: pointer;\n\n      position: relative;\n\n      overflow: hidden;\n\n      color: ",";\n\n      transition:\n        color 400ms ",",\n        background 100ms ",";\n\n      &:hover {\n        color: ",";\n      }\n\n      &:active {\n        color: ",";\n      }\n    "])),s.colorTextTertiary,s.motionEaseOut,s.motionEaseOut,s.colorTextSecondary,t?s.colorTextTertiary:s.colorText),shadow:o.shadow}}),f=n(54898);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=["color","fill","className","active","icon","size","variant","style","glass","title","onClick","loading","fillOpacity","fillRule","focusable","shadow","disabled","spin","tooltipProps","danger","ref"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i,s;r=e,i=t,s=n[t],(i=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(0,a.memo)(function(e){var t,n=e.color,r=e.fill,i=e.className,d=e.active,m=e.icon,v=e.size,h=void 0===v?"middle":v,S=e.variant,w=e.style,O=e.glass,x=e.title,E=e.onClick,I=e.loading,A=e.fillOpacity,N=e.fillRule,C=e.focusable,j=e.shadow,$=e.disabled,k=e.spin,P=e.tooltipProps,M=e.danger,T=e.ref,D=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,y),z=g(),L=z.styles,U=z.cx,G=(0,a.useMemo)(function(){return p(h)},[h]),R=G.blockSize,q=G.borderRadius,B=(0,a.useMemo)(function(){return(0,s.F)(L.root,{compoundVariants:[{className:L.dangerFilled,danger:!0,variant:"filled"},{className:L.dangerBorderless,danger:!0,variant:"borderless"},{className:L.dangerOutlined,danger:!0,variant:"outlined"}],defaultVariants:{active:!1,danger:!1,disabled:!1,glass:!1,shadow:!1,variant:"borderless"},variants:{variant:{filled:L.filled,outlined:L.outlined,borderless:L.borderless},glass:{false:null,true:L.glass},shadow:{false:null,true:L.shadow},active:{false:null,true:L.active},danger:{false:null,true:L.dangerRoot},disabled:{false:null,true:L.disabled}}})},[L]),F=(0,a.useCallback)(function(e){I||$||null==E||E(e)},[I,$,E]),W=(0,f.jsx)(l.default,b(b({className:U(B({active:d,danger:M,disabled:$,glass:O,shadow:j,variant:void 0===S?"borderless":S}),i),flex:"none",horizontal:!0,onClick:F,ref:T,role:"button",style:b({borderRadius:q,height:R,width:R},w),tabIndex:$?-1:0},D),{},{children:m&&(0,f.jsx)(c.default,{color:n,fill:r,fillOpacity:A,fillRule:N,focusable:C,icon:I?o.A:m,size:h,spin:!!I||k,style:{pointerEvents:"none"}})}));return x?(0,f.jsx)(u.A,b(b({title:x},P),{},{styles:b(b({},null==P?void 0:P.styles),{},{root:b({pointerEvents:"none"},null==P||null==(t=P.styles)?void 0:t.root)}),children:W})):W});S.displayName="ActionIcon";let w=S},11678:(e,t,n)=>{n.d(t,{p:()=>o});var r=n(35245),i=n(77605);class s{constructor(){this.createTopic=e=>i.du.topic.createTopic.mutate({...e,sessionId:this.toDbSessionId(e.sessionId)}),this.batchCreateTopics=e=>i.du.topic.batchCreateTopics.mutate(e),this.cloneTopic=(e,t)=>i.du.topic.cloneTopic.mutate({id:e,newTitle:t}),this.getTopics=e=>i.du.topic.getTopics.query({...e,containerId:this.toDbSessionId(e.containerId)}),this.getAllTopics=()=>i.du.topic.getAllTopics.query(),this.countTopics=async e=>i.du.topic.countTopics.query(e),this.rankTopics=async e=>i.du.topic.rankTopics.query(e),this.searchTopics=(e,t,n)=>i.du.topic.searchTopics.query({groupId:n,keywords:e,sessionId:this.toDbSessionId(t)}),this.updateTopic=(e,t)=>i.du.topic.updateTopic.mutate({id:e,value:t}),this.removeTopic=e=>i.du.topic.removeTopic.mutate({id:e}),this.removeTopics=e=>i.du.topic.batchDeleteBySessionId.mutate({id:this.toDbSessionId(e)}),this.batchRemoveTopics=e=>i.du.topic.batchDelete.mutate({ids:e}),this.removeAllTopic=()=>i.du.topic.removeAllTopics.mutate(),this.toDbSessionId=e=>e===r.Ed?null:e}}let o=new s},13380:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(76208),i=n(1866),s=n(32309);let o=function(e){return"string"==typeof e||!(0,i.A)(e)&&(0,s.A)(e)&&"[object String]"==(0,r.A)(e)}},16602:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(83034),i=n(52762),s=n.n(i),o=n(67863),a=n(12353),l=n(6139),c=n(1191),u=n(94348),d=n(83959);let p=(0,u.OF)("Empty",e=>{let{componentCls:t,controlHeightLG:n,calc:r}=e;return(e=>{let{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:s,lineHeight:o}=e;return{[t]:{marginInline:r,fontSize:s,lineHeight:o,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}})((0,d.oX)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()}))});var m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let g=r.createElement(()=>{let[,e]=(0,c.Ay)(),[t]=(0,a.A)("Empty"),n=new l.Y(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return r.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,(null==t?void 0:t.description)||"Empty"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),r.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),r.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),r.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),r.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),r.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},null),f=r.createElement(()=>{let[,e]=(0,c.Ay)(),[t]=(0,a.A)("Empty"),{colorFill:n,colorFillTertiary:i,colorFillQuaternary:s,colorBgContainer:o}=e,{borderColor:u,shadowColor:d,contentColor:p}=(0,r.useMemo)(()=>({borderColor:new l.Y(n).onBackground(o).toHexString(),shadowColor:new l.Y(i).onBackground(o).toHexString(),contentColor:new l.Y(s).onBackground(o).toHexString()}),[n,i,s,o]);return r.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,(null==t?void 0:t.description)||"Empty"),r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{fill:d,cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{fillRule:"nonzero",stroke:u},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:p}))))},null),v=e=>{var t;let{className:n,rootClassName:i,prefixCls:l,image:c,description:u,children:d,imageStyle:v,style:y,classNames:h,styles:b}=e,S=m(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:w,direction:O,className:x,style:E,classNames:I,styles:A,image:N}=(0,o.TP)("empty"),C=w("empty",l),[j,$,k]=p(C),[P]=(0,a.A)("Empty"),M=void 0!==u?u:null==P?void 0:P.description,T="string"==typeof M?M:"empty",D=null!=(t=null!=c?c:N)?t:g,z=null;return z="string"==typeof D?r.createElement("img",{draggable:!1,alt:T,src:D}):D,j(r.createElement("div",Object.assign({className:s()($,k,C,x,{[`${C}-normal`]:D===f,[`${C}-rtl`]:"rtl"===O},n,i,I.root,null==h?void 0:h.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},A.root),E),null==b?void 0:b.root),y)},S),r.createElement("div",{className:s()(`${C}-image`,I.image,null==h?void 0:h.image),style:Object.assign(Object.assign(Object.assign({},v),A.image),null==b?void 0:b.image)},z),M&&r.createElement("div",{className:s()(`${C}-description`,I.description,null==h?void 0:h.description),style:Object.assign(Object.assign({},A.description),null==b?void 0:b.description)},M),d&&r.createElement("div",{className:s()(`${C}-footer`,I.footer,null==h?void 0:h.footer),style:Object.assign(Object.assign({},A.footer),null==b?void 0:b.footer)},d)))};v.PRESENTED_IMAGE_DEFAULT=g,v.PRESENTED_IMAGE_SIMPLE=f;let y=v},17191:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(21637),i=n(5501),s=n(17975),o=n(28153),a=n(35956),l=n(94348),c=n(83959);let u=(0,l.OF)("Popover",e=>{let{colorBgElevated:t,colorText:n}=e,o=(0,c.oX)(e,{popoverBg:t,popoverColor:n});return[(e=>{let{componentCls:t,popoverColor:n,titleMinWidth:i,fontWeightStrong:o,innerPadding:a,boxShadowSecondary:l,colorTextHeading:c,borderRadiusLG:u,zIndexPopup:d,titleMarginBottom:p,colorBgElevated:m,popoverBg:g,titleBorderBottom:f,innerContentPadding:v,titlePadding:y}=e;return[{[t]:Object.assign(Object.assign({},(0,r.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:"var(--valid-offset-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":m,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:g,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:a},[`${t}-title`]:{minWidth:i,marginBottom:p,color:c,fontWeight:o,borderBottom:f,padding:y},[`${t}-inner-content`]:{color:n,padding:v}})},(0,s.Ay)(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]})(o),(e=>{let{componentCls:t}=e;return{[t]:a.s.map(n=>{let r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}})(o),(0,i.aB)(o,"zoom-big")]},e=>{let{lineWidth:t,controlHeight:n,fontHeight:r,padding:i,wireframe:a,zIndexPopupBase:l,borderRadiusLG:c,marginXS:u,lineType:d,colorSplit:p,paddingSM:m}=e,g=n-r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},(0,o.n)(e)),(0,s.Ke)({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:12*!a,titleMarginBottom:a?0:u,titlePadding:a?`${g/2}px ${i}px ${g/2-t}px`:0,titleBorderBottom:a?`${t}px ${d} ${p}`:"none",innerContentPadding:a?`${m}px ${i}px`:0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},30333:(e,t,n)=>{n.d(t,{sessionService:()=>s});var r=n(77605);class i{constructor(){this.hasSessions=async()=>0===await this.countSessions(),this.createSession=async(e,t)=>{let{config:n,group:i,meta:s,...o}=t;return r.du.session.createSession.mutate({config:{...n,...s},session:{...o,groupId:i},type:e})},this.cloneSession=(e,t)=>r.du.session.cloneSession.mutate({id:e,newTitle:t}),this.getGroupedSessions=()=>r.du.session.getGroupedSessions.query(),this.countSessions=async e=>r.du.session.countSessions.query(e),this.rankSessions=async e=>r.du.session.rankSessions.query(e),this.updateSession=(e,t)=>{let{group:n,pinned:i,meta:s,updatedAt:o}=t;return r.du.session.updateSession.mutate({id:e,value:{groupId:"default"===n?null:n,pinned:i,...s,updatedAt:o}})},this.getSessionConfig=async e=>r.du.agent.getAgentConfig.query({sessionId:e}),this.updateSessionConfig=(e,t,n)=>r.du.session.updateSessionConfig.mutate({id:e,value:t},{context:{showNotification:!1},signal:n}),this.updateSessionMeta=(e,t,n)=>r.du.session.updateSessionConfig.mutate({id:e,value:t},{signal:n}),this.updateSessionChatConfig=(e,t,n)=>r.du.session.updateSessionChatConfig.mutate({id:e,value:t},{signal:n}),this.searchSessions=e=>r.du.session.searchSessions.query({keywords:e}),this.removeSession=e=>r.du.session.removeSession.mutate({id:e}),this.removeAllSessions=()=>r.du.session.removeAllSessions.mutate(),this.createSessionGroup=(e,t)=>r.du.sessionGroup.createSessionGroup.mutate({name:e,sort:t}),this.removeSessionGroup=(e,t)=>r.du.sessionGroup.removeSessionGroup.mutate({id:e,removeChildren:t}),this.removeSessionGroups=()=>r.du.sessionGroup.removeAllSessionGroups.mutate(),this.updateSessionGroup=(e,t)=>r.du.sessionGroup.updateSessionGroup.mutate({id:e,value:t}),this.updateSessionGroupOrder=e=>r.du.sessionGroup.updateSessionGroupOrder.mutate({sortMap:e})}}let s=new i},32181:(e,t,n)=>{n.d(t,{b:()=>r});let r=e=>e?"function"==typeof e?e():e:null},38759:(e,t,n)=>{n.d(t,{c:()=>M,k:()=>P});var r=n(14308),i=n(50786),s=n(23993),o=n(41734),a=n(89872);let l={preference:a.I},c={...{defaultSettings:n(74551).a$,settings:{}},...l,...{},...{isOnboard:!1,isShowPWAGuide:!1,isUserCanEnableTrace:!1,isUserHasConversation:!1,isUserStateInit:!1}};var u=n(96773),d=n(70674),p=n(64911),m=n(85366),g=n(46265),f=n(55582),v=n(67095),y=n(61497),h=n(71457);let b=(0,y.K)("common"),S="initUserState",w=(0,y.K)("preference");var O=n(31021),x=n.n(O),E=n(19530),I=n(45628);class A{constructor(){this.createShareSettingsUrl=e=>`/?${I.N}=${encodeURI(JSON.stringify(e))}`,this.decodeShareSettings=e=>{try{return{data:JSON.parse(e)}}catch(e){return{message:JSON.stringify(e)}}}}}let N=new A;var C=n(34743),j=n(1866),$=n(28074);let k=(0,o.t)("user"),P=(0,s.h)()((0,r.eh)(k((...e)=>({...c,...((e,t)=>({addToolToAllowList:async e=>{let n=t().settings.tool?.humanIntervention?.allowList||[];n.includes(e)||await t().setSettings({tool:{humanIntervention:{allowList:[...n,e]}}})},importAppSettings:async e=>{let{setSettings:n}=t();await n(e)},importUrlShareSettings:async e=>{if(e){let n=N.decodeShareSettings(e);!n?.message&&n?.data&&await t().setSettings(n.data)}},internal_createSignal:()=>{let n=t().updateSettingsSignal;n&&!n.signal.aborted&&n.abort(E.ve);let r=new AbortController;return e({updateSettingsSignal:r},!1,"signalForUpdateSettings"),r},resetSettings:async()=>{await f.W.resetUserSettings(),await t().refreshUserState()},setSettings:async n=>{let r,{settings:i,defaultSettings:s}=t(),o=(0,v.h)(i,n);if(x()(i,o))return;let a=(r=(e,t)=>(0,C.A)(e,(e,n,i)=>{(0,j.A)(n)&&(0,j.A)(t[i])?x()(n,t[i])||(e[i]=n):x()(n,t[i])||(e[i]=(0,$.A)(n)&&(0,$.A)(t[i])?r(n,t[i]):n)}))(o,s);e({settings:a},!1,"optimistic_updateSettings");let l=t().internal_createSignal();await f.W.updateUserSettings(a,l.signal),await t().refreshUserState()},updateDefaultAgent:async e=>{await t().setSettings({defaultAgent:e})},updateGeneralConfig:async e=>{await t().setSettings({general:e})},updateHumanIntervention:async e=>{let n=t().settings.tool?.humanIntervention||{};await t().setSettings({tool:{humanIntervention:{...n,...e}}})},updateKeyVaults:async e=>{await t().setSettings({keyVaults:e})},updateSystemAgent:async(e,n)=>{await t().setSettings({systemAgent:{[e]:{...n}}})}}))(...e),...((e,t)=>({updateGuideState:async e=>{let{updatePreference:n}=t(),r=(0,v.h)(t().preference.guide,e);await n({guide:r})},updateLab:async e=>{let{updatePreference:n}=t(),r=(0,v.h)(t().preference.lab,e);await n({lab:r},w("updateLab"))},updatePreference:async(n,r)=>{let i=(0,v.h)(t().preference,n);e({preference:i},!1,r||w("updatePreference")),await f.W.updatePreference(i)}}))(...e),...((e,t)=>({enableAuth:()=>u.S4,logout:async()=>{if(u.Nd)return void t().clerkSignOut?.({redirectUrl:location.toString()});if(u.J_){let{signOut:e}=await n.e(4975).then(n.bind(n,4975));e()}},openLogin:async()=>{if(u.Nd){let e=location.toString();t().clerkSignIn?.({fallbackRedirectUrl:e,signUpForceRedirectUrl:e,signUpUrl:"/signup"});return}if(u.J_){let{signIn:e}=await n.e(4975).then(n.bind(n,4975)),r=t()?.oAuthSSOProviders;if(r&&1===r.length)return void e(r[0]);e()}}}))(...e),...((e,t)=>({refreshUserState:async()=>{await (0,p.j)(S)},updateAvatar:async e=>{await f.W.updateAvatar(e),await t().refreshUserState()},updateKeyVaultConfig:async(e,n)=>{await t().setSettings({keyVaults:{[e]:n}})},useCheckTrace:e=>(0,m.Ay)(e?"checkTrace":null,()=>"boolean"==typeof h.U.userAllowTrace(t())?Promise.resolve(!1):Promise.resolve(t().isUserCanEnableTrace),{revalidateOnFocus:!1}),useInitUserState:(n,r,i)=>(0,g.Ju)(n?S:null,()=>f.W.getUserState(),{onError:e=>{i?.onError?.(e)},onSuccess:n=>{if(i?.onSuccess?.(n),n){let i={defaultAgent:r.defaultAgent,image:r.image,systemAgent:r.systemAgent},s=(0,v.h)(t().defaultSettings,i),o=0===Object.keys(n.preference||{}).length?a.I:n.preference,l=n.avatar||n.userId?(0,v.h)(t().user,{avatar:n.avatar,email:n.email,firstName:n.firstName,fullName:n.fullName,id:n.userId,latestName:n.lastName,username:n.username}):t().user;e({defaultSettings:s,isOnboard:n.isOnboard,isShowPWAGuide:n.canEnablePWAGuide,isUserCanEnableTrace:n.canEnableTrace,isUserHasConversation:n.hasConversation,isUserStateInit:!0,preference:o,settings:n.settings||{},subscriptionPlan:n.subscriptionPlan,user:l},!1,b("initUserState"));let c=(0,d.wZ)();c?.identify(n.userId||"",{email:n.email,firstName:n.firstName,lastName:n.lastName,username:n.username})}}})}))(...e)}))),i.x),M=()=>P.getState()},40714:(e,t,n)=>{n.d(t,{Ay:()=>i});var r=n(10053);let i={useBreakpoint:function(){return(0,r.A)()}}},41224:(e,t,n)=>{n.d(t,{A:()=>r});let r={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"}},49359:(e,t,n)=>{n.d(t,{s:()=>r});function r(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,i=n||{},s=i.noTrailing,o=void 0!==s&&s,a=i.noLeading,l=void 0!==a&&a,c=i.debounceMode,u=void 0===c?void 0:c,d=!1,p=0;function m(){r&&clearTimeout(r)}function g(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=this,c=Date.now()-p;function g(){p=Date.now(),t.apply(a,i)}function f(){r=void 0}!d&&(l||!u||r||g(),m(),void 0===u&&c>e?l?(p=Date.now(),o||(r=setTimeout(u?f:g,e))):g():!0!==o&&(r=setTimeout(u?f:g,void 0===u?e-c:e)))}return g.cancel=function(e){var t=(e||{}).upcomingOnly;m(),d=!(void 0!==t&&t)},g}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}},55582:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(77605);class i{constructor(){this.getUserRegistrationDuration=async()=>r.du.user.getUserRegistrationDuration.query(),this.getUserState=async()=>r.du.user.getUserState.query(),this.getUserSSOProviders=async()=>r.du.user.getUserSSOProviders.query(),this.unlinkSSOProvider=async(e,t)=>r.du.user.unlinkSSOProvider.mutate({provider:e,providerAccountId:t}),this.makeUserOnboarded=async()=>r.du.user.makeUserOnboarded.mutate(),this.updateAvatar=async e=>r.du.user.updateAvatar.mutate(e),this.updatePreference=async e=>r.du.user.updatePreference.mutate(e),this.updateGuide=async e=>r.du.user.updateGuide.mutate(e),this.updateUserSettings=async(e,t)=>r.du.user.updateSettings.mutate(e,{signal:t}),this.resetUserSettings=async()=>r.du.user.resetSettings.mutate()}}let s=new i},56790:(e,t,n)=>{n.d(t,{T:()=>l});var r=n(35245),i=n(77605);class s{async execute(e,t){let n=this.controllers.get(e);n&&n.abort("New request triggered");let r=new AbortController;this.controllers.set(e,r);try{return await t(r.signal)}finally{this.controllers.get(e)===r&&this.controllers.delete(e)}}cancel(e){let t=this.controllers.get(e);t&&(t.abort("Manually cancelled"),this.controllers.delete(e))}cancelAll(){for(let e of this.controllers.values())e.abort("All requests cancelled");this.controllers.clear()}constructor(){this.controllers=new Map}}let o=new s;class a{constructor(){this.createMessage=async({sessionId:e,...t})=>i.du.message.createMessage.mutate({...t,sessionId:e?this.toDbSessionId(e):void 0}),this.getMessages=async(e,t,n)=>await i.du.message.getMessages.query({groupId:n,sessionId:this.toDbSessionId(e),topicId:t}),this.getGroupMessages=async(e,t)=>await i.du.message.getMessages.query({groupId:e,topicId:t}),this.countMessages=async e=>i.du.message.count.query(e),this.countWords=async e=>i.du.message.countWords.query(e),this.rankModels=async()=>i.du.message.rankModels.query(),this.getHeatmaps=async()=>i.du.message.getHeatmaps.query(),this.updateMessageError=async(e,t,n)=>{let r=t.type?t:{body:t,message:t.message,type:"ApplicationRuntimeError"};return i.du.message.update.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:{error:r}})},this.updateMessagePluginArguments=async(e,t)=>{let n="string"==typeof t?t:JSON.stringify(t);return i.du.message.updateMessagePlugin.mutate({id:e,value:{arguments:n}})},this.updateMessage=async(e,t,n)=>i.du.message.update.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t}),this.updateMessageTranslate=async(e,t)=>i.du.message.updateTranslate.mutate({id:e,value:t}),this.updateMessageTTS=async(e,t)=>i.du.message.updateTTS.mutate({id:e,value:t}),this.updateMessageMetadata=async(e,t,n)=>o.execute(`message-metadata-${e}`,r=>i.du.message.updateMetadata.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t},{signal:r})),this.updateMessagePluginState=async(e,t,n)=>i.du.message.updatePluginState.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t}),this.updateMessagePluginError=async(e,t,n)=>i.du.message.updatePluginError.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t}),this.updateMessagePlugin=async(e,t,n)=>i.du.message.updateMessagePlugin.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t}),this.updateMessageRAG=async(e,t,n)=>i.du.message.updateMessageRAG.mutate({id:e,sessionId:n?.sessionId,topicId:n?.topicId,value:t}),this.removeMessage=async(e,t)=>i.du.message.removeMessage.mutate({id:e,sessionId:t?.sessionId,topicId:t?.topicId}),this.removeMessages=async(e,t)=>i.du.message.removeMessages.mutate({ids:e,sessionId:t?.sessionId,topicId:t?.topicId}),this.removeMessagesByAssistant=async(e,t)=>i.du.message.removeMessagesByAssistant.mutate({sessionId:this.toDbSessionId(e),topicId:t}),this.removeMessagesByGroup=async(e,t)=>i.du.message.removeMessagesByGroup.mutate({groupId:e,topicId:t}),this.removeAllMessages=async()=>i.du.message.removeAllMessages.mutate(),this.toDbSessionId=e=>e===r.Ed?null:e}}let l=new a},61520:(e,t,n)=>{n.d(t,{P:()=>c,f:()=>l});var r=n(74551),i=n(96987),s=n(96773);let o=r.Se,a=e=>s.S4?e.isSignedIn?e.user?.username:"anonymous":r.xl?e.user?.username:o,l={displayUserName:e=>a(e)||e.user?.email||"",email:e=>e.user?.email||"",fullName:e=>e.user?.fullName||"",nickName:e=>{let t=e.user?.fullName||e.user?.username;return s.S4?e.isSignedIn?t:(0,i.t)("userPanel.anonymousNickName",{ns:"common"}):r.xl?t:(0,i.t)("userPanel.defaultNickname",{ns:"common"})},userAvatar:e=>e.user?.avatar||"",userId:e=>e.user?.id,userProfile:e=>e.user,username:a},c={isLoaded:e=>e.isLoaded,isLogin:e=>!s.S4||e.isSignedIn,isLoginWithAuth:e=>e.isSignedIn,isLoginWithClerk:e=>e.isSignedIn&&s.Nd||!1,isLoginWithNextAuth:e=>e.isSignedIn&&!!s.J_||!1}},64751:(e,t,n)=>{n.d(t,{e:()=>r,p:()=>i});let r=(e,t)=>{void 0!==(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):void 0!==(null==e?void 0:e.addListener)&&e.addListener(t)},i=(e,t)=>{void 0!==(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):void 0!==(null==e?void 0:e.removeListener)&&e.removeListener(t)}},67693:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(83034),i=n(52762),s=n.n(i),o=n(37255),a=n(70520),l=n(32181),c=n(36421),u=n(47846),d=n(67863),p=n(27498),m=n(76253),g=n(17191),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let v=r.forwardRef((e,t)=>{var n,i;let{prefixCls:v,title:y,content:h,overlayClassName:b,placement:S="top",trigger:w="hover",children:O,mouseEnterDelay:x=.1,mouseLeaveDelay:E=.1,onOpenChange:I,overlayStyle:A={},styles:N,classNames:C}=e,j=f(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:$,className:k,style:P,classNames:M,styles:T}=(0,d.TP)("popover"),D=$("popover",v),[z,L,U]=(0,g.A)(D),G=$(),R=s()(b,L,U,k,M.root,null==C?void 0:C.root),q=s()(M.body,null==C?void 0:C.body),[B,F]=(0,o.A)(!1,{value:null!=(n=e.open)?n:e.visible,defaultValue:null!=(i=e.defaultOpen)?i:e.defaultVisible}),W=(e,t)=>{F(e,!0),null==I||I(e,t)},H=(0,l.b)(y),_=(0,l.b)(h);return z(r.createElement(p.A,Object.assign({placement:S,trigger:w,mouseEnterDelay:x,mouseLeaveDelay:E},j,{prefixCls:D,classNames:{root:R,body:q},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},T.root),P),A),null==N?void 0:N.root),body:Object.assign(Object.assign({},T.body),null==N?void 0:N.body)},ref:t,open:B,onOpenChange:e=>{W(e)},overlay:H||_?r.createElement(m.hJ,{prefixCls:D,title:H,content:_}):null,transitionName:(0,c.b)(G,"zoom-big",j.transitionName),"data-popover-inject":!0}),(0,u.Ob)(O,{onKeyDown:e=>{var t,n;(0,r.isValidElement)(O)&&(null==(n=null==O?void 0:(t=O.props).onKeyDown)||n.call(t,e)),e.keyCode===a.A.ESC&&W(!1,e)}})))});v._InternalPanelDoNotUseOrYouWillBeFired=m.Ay;let y=v},71457:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(74551);let i={hideSettingsMoveGuide:e=>e.preference.guide?.moveSettingsToAvatar,hideSyncAlert:e=>e.preference.hideSyncAlert,isPreferenceInit:e=>e.isUserStateInit,shouldTriggerFileInKnowledgeBaseTip:e=>"boolean"!=typeof e.preference.guide?.moveSettingsToAvatar,showUploadFileInKnowledgeBaseTip:e=>e.preference.guide?.uploadFileInKnowledgeBase,topicDisplayMode:e=>e.preference.topicDisplayMode||r.I4.topicDisplayMode,useCmdEnterToSend:e=>e.preference.useCmdEnterToSend||!1,userAllowTrace:e=>e.preference.telemetry}},76253:(e,t,n)=>{n.d(t,{Ay:()=>m,hJ:()=>d,xn:()=>p});var r=n(83034),i=n(52762),s=n.n(i),o=n(30396),a=n(32181),l=n(67863),c=n(17191),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let d=({title:e,content:t,prefixCls:n})=>e||t?r.createElement(r.Fragment,null,e&&r.createElement("div",{className:`${n}-title`},e),t&&r.createElement("div",{className:`${n}-inner-content`},t)):null,p=e=>{let{hashId:t,prefixCls:n,className:i,style:l,placement:c="top",title:u,content:p,children:m}=e,g=(0,a.b)(u),f=(0,a.b)(p),v=s()(t,n,`${n}-pure`,`${n}-placement-${c}`,i);return r.createElement("div",{className:v,style:l},r.createElement("div",{className:`${n}-arrow`}),r.createElement(o.z,Object.assign({},e,{className:t,prefixCls:n}),m||r.createElement(d,{prefixCls:n,title:g,content:f})))},m=e=>{let{prefixCls:t,className:n}=e,i=u(e,["prefixCls","className"]),{getPrefixCls:o}=r.useContext(l.QO),a=o("popover",t),[d,m,g]=(0,c.A)(a);return d(r.createElement(p,Object.assign({},i,{prefixCls:a,hashId:m,className:s()(n,g)})))}},92831:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return function(t){return null==e?void 0:e[t]}}},92912:(e,t,n)=>{let r;n.d(t,{A:()=>A});var i=n(83034),s=n(52762),o=n.n(s),a=n(49359),l=n(67863),c=n(47846),u=n(71673);let d=80*Math.PI,p=e=>{let{dotClassName:t,style:n,hasCircleCls:r}=e;return i.createElement("circle",{className:o()(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:40,cx:50,cy:50,strokeWidth:20,style:n})},m=({percent:e,prefixCls:t})=>{let n=`${t}-dot`,r=`${n}-holder`,s=`${r}-hidden`,[a,l]=i.useState(!1);(0,u.A)(()=>{0!==e&&l(!0)},[0!==e]);let c=Math.max(Math.min(e,100),0);if(!a)return null;let m={strokeDashoffset:`${d/4}`,strokeDasharray:`${d*c/100} ${d*(100-c)/100}`};return i.createElement("span",{className:o()(r,`${n}-progress`,c<=0&&s)},i.createElement("svg",{viewBox:"0 0 100 100",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},i.createElement(p,{dotClassName:n,hasCircleCls:!0}),i.createElement(p,{dotClassName:n,style:m})))};function g(e){let{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,s=`${r}-holder`,a=`${s}-hidden`;return i.createElement(i.Fragment,null,i.createElement("span",{className:o()(s,n>0&&a)},i.createElement("span",{className:o()(r,`${t}-dot-spin`)},[1,2,3,4].map(e=>i.createElement("i",{className:`${t}-dot-item`,key:e})))),i.createElement(m,{prefixCls:t,percent:n}))}function f(e){var t;let{prefixCls:n,indicator:r,percent:s}=e,a=`${n}-dot`;return r&&i.isValidElement(r)?(0,c.Ob)(r,{className:o()(null==(t=r.props)?void 0:t.className,a),percent:s}):i.createElement(g,{prefixCls:n,percent:s})}var v=n(53414),y=n(21637),h=n(94348),b=n(83959);let S=new v.Mo("antSpinMove",{to:{opacity:1}}),w=new v.Mo("antRotate",{to:{transform:"rotate(405deg)"}}),O=(0,h.OF)("Spin",e=>(e=>{let{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},(0,y.dF)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:S,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:w,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>`${t} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}})((0,b.oX)(e,{spinDotDefault:e.colorTextDescription})),e=>{let{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}}),x=[[30,.05],[70,.03],[96,.01]];var E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let I=e=>{var t;let{prefixCls:n,spinning:s=!0,delay:c=0,className:u,rootClassName:d,size:p="default",tip:m,wrapperClassName:g,style:v,children:y,fullscreen:h=!1,indicator:b,percent:S}=e,w=E(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:I,direction:A,className:N,style:C,indicator:j}=(0,l.TP)("spin"),$=I("spin",n),[k,P,M]=O($),[T,D]=i.useState(()=>s&&(!s||!c||!!Number.isNaN(Number(c)))),z=function(e,t){let[n,r]=i.useState(0),s=i.useRef(null),o="auto"===t;return i.useEffect(()=>(o&&e&&(r(0),s.current=setInterval(()=>{r(e=>{let t=100-e;for(let n=0;n<x.length;n+=1){let[r,i]=x[n];if(e<=r)return e+t*i}return e})},200)),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[o,e]),o?n:t}(T,S);i.useEffect(()=>{if(s){let e=(0,a.s)(c,()=>{D(!0)});return e(),()=>{var t;null==(t=null==e?void 0:e.cancel)||t.call(e)}}D(!1)},[c,s]);let L=i.useMemo(()=>void 0!==y&&!h,[y,h]),U=o()($,N,{[`${$}-sm`]:"small"===p,[`${$}-lg`]:"large"===p,[`${$}-spinning`]:T,[`${$}-show-text`]:!!m,[`${$}-rtl`]:"rtl"===A},u,!h&&d,P,M),G=o()(`${$}-container`,{[`${$}-blur`]:T}),R=null!=(t=null!=b?b:j)?t:r,q=Object.assign(Object.assign({},C),v),B=i.createElement("div",Object.assign({},w,{style:q,className:U,"aria-live":"polite","aria-busy":T}),i.createElement(f,{prefixCls:$,indicator:R,percent:z}),m&&(L||h)?i.createElement("div",{className:`${$}-text`},m):null);return k(L?i.createElement("div",Object.assign({},w,{className:o()(`${$}-nested-loading`,g,P,M)}),T&&i.createElement("div",{key:"loading"},B),i.createElement("div",{className:G,key:"container"},y)):h?i.createElement("div",{className:o()(`${$}-fullscreen`,{[`${$}-fullscreen-show`]:T},d,P,M)},B):B)};I.setDefaultIndicator=e=>{r=e};let A=I},95948:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(5686),i=n(19099),s=n(45440),o=n(63368),a=n(7116),l=n(52762),c=n.n(l),u=n(35935),d=n(83034),p=n(70520),m=n(56515),g=p.A.ESC,f=p.A.TAB,v=(0,d.forwardRef)(function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,s=(0,d.useMemo)(function(){return"function"==typeof n?n():n},[n]),o=(0,u.K4)(t,(0,u.A9)(s));return d.createElement(d.Fragment,null,r&&d.createElement("div",{className:"".concat(i,"-arrow")}),d.cloneElement(s,{ref:(0,u.f3)(s)?o:void 0}))}),y={adjustX:1,adjustY:1},h=[0,0];let b={topLeft:{points:["bl","tl"],overflow:y,offset:[0,-4],targetOffset:h},top:{points:["bc","tc"],overflow:y,offset:[0,-4],targetOffset:h},topRight:{points:["br","tr"],overflow:y,offset:[0,-4],targetOffset:h},bottomLeft:{points:["tl","bl"],overflow:y,offset:[0,4],targetOffset:h},bottom:{points:["tc","bc"],overflow:y,offset:[0,4],targetOffset:h},bottomRight:{points:["tr","br"],overflow:y,offset:[0,4],targetOffset:h}};var S=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];let w=d.forwardRef(function(e,t){var n,l,p,y,h,w,O,x,E,I,A,N,C,j,$=e.arrow,k=void 0!==$&&$,P=e.prefixCls,M=void 0===P?"rc-dropdown":P,T=e.transitionName,D=e.animation,z=e.align,L=e.placement,U=e.placements,G=e.getPopupContainer,R=e.showAction,q=e.hideAction,B=e.overlayClassName,F=e.overlayStyle,W=e.visible,H=e.trigger,_=void 0===H?["hover"]:H,V=e.autoFocus,X=e.overlay,K=e.children,J=e.onVisibleChange,Y=(0,o.A)(e,S),Z=d.useState(),Q=(0,s.A)(Z,2),ee=Q[0],et=Q[1],en="visible"in e?W:ee,er=d.useRef(null),ei=d.useRef(null),es=d.useRef(null);d.useImperativeHandle(t,function(){return er.current});var eo=function(e){et(e),null==J||J(e)};l=(n={visible:en,triggerRef:es,onVisibleChange:eo,autoFocus:V,overlayRef:ei}).visible,p=n.triggerRef,y=n.onVisibleChange,h=n.autoFocus,w=n.overlayRef,O=d.useRef(!1),x=function(){if(l){var e,t;null==(e=p.current)||null==(t=e.focus)||t.call(e),null==y||y(!1)}},E=function(){var e;return null!=(e=w.current)&&!!e.focus&&(w.current.focus(),O.current=!0,!0)},I=function(e){switch(e.keyCode){case g:x();break;case f:var t=!1;O.current||(t=E()),t?e.preventDefault():x()}},d.useEffect(function(){return l?(window.addEventListener("keydown",I),h&&(0,m.A)(E,3),function(){window.removeEventListener("keydown",I),O.current=!1}):function(){O.current=!1}},[l]);var ea=function(){return d.createElement(v,{ref:ei,overlay:X,prefixCls:M,arrow:k})},el=d.cloneElement(K,{className:c()(null==(j=K.props)?void 0:j.className,en&&(void 0!==(A=e.openClassName)?A:"".concat(M,"-open"))),ref:(0,u.f3)(K)?(0,u.K4)(es,(0,u.A9)(K)):void 0}),ec=q;return ec||-1===_.indexOf("contextMenu")||(ec=["click"]),d.createElement(a.A,(0,r.A)({builtinPlacements:void 0===U?b:U},Y,{prefixCls:M,ref:er,popupClassName:c()(B,(0,i.A)({},"".concat(M,"-show-arrow"),k)),popupStyle:F,action:_,showAction:R,hideAction:ec,popupPlacement:void 0===L?"bottomLeft":L,popupAlign:z,popupTransitionName:T,popupAnimation:D,popupVisible:en,stretch:(N=e.minOverlayWidthMatchTrigger,C=e.alignPoint,"minOverlayWidthMatchTrigger"in e?N:!C)?"minWidth":"",popup:"function"==typeof X?ea:ea(),onPopupVisibleChange:eo,onPopupClick:function(t){var n=e.onOverlayClick;et(!1),n&&n(t)},getPopupContainer:G}),el)})},99454:(e,t,n)=>{n.d(t,{A:()=>f});var r,i=n(83034),s=n(80457),o=n(11577),a=n(13380),l=(0,o.rU)(function(e,t){var n,i,s=e.css,o=t.rows,l=t.maxItemWidth,c=t.gap;return s(r||(n=["\n      --rows: ",";\n      --max-item-width: ",";\n      --gap: ",";\n\n      display: grid !important;\n      grid-template-columns: repeat(\n        auto-fill,\n        minmax(\n          max(var(--max-item-width), calc((100% - var(--gap) * (var(--rows) - 1)) / var(--rows))),\n          1fr\n        )\n      );\n    "],i||(i=n.slice(0)),r=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}}))),o,(0,a.A)(l)?l:"".concat(l,"px"),(0,a.A)(c)?c:"".concat(c,"px"))}),c=n(54898);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["className","gap","rows","children","maxItemWidth","ref"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i,s;r=e,i=t,s=n[t],(i=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=(0,i.memo)(function(e){var t=e.className,n=e.gap,r=void 0===n?"1em":n,i=e.rows,o=e.children,a=e.maxItemWidth,u=e.ref,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d),g=l({gap:r,maxItemWidth:void 0===a?240:a,rows:void 0===i?3:i}),f=g.cx,v=g.styles;return(0,c.jsx)(s.Flexbox,m(m({className:f(v,t),gap:r,ref:u},p),{},{children:o}))});g.displayName="Grid";let f=g},99756:(e,t,n)=>{n.d(t,{Ec:()=>s,GJ:()=>a,ZG:()=>o});var r=n(2644),i=n.n(r);let s=()=>i()().startOf("day"),o=()=>i()().subtract(1,"month").startOf("month").endOf("month"),a=(e,t=14)=>i()().diff(i()(e),"day")<t}}]);