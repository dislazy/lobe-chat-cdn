"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12504],{12504:(e,r,t)=>{var a,o;function i(e){return encodeURI(e.replace(/~/g,"~0").replace(/\//g,"~1"))}t.d(r,{Validator:()=>_});let n={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},d={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},s={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},l="undefined"!=typeof self&&self.location&&"null"!==self.location.origin?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function f(e,r=Object.create(null),t=l,a=""){if(e&&"object"==typeof e&&!Array.isArray(e)){let o=e.$id||e.id;if(o){let i=new URL(o,t.href);i.hash.length>1?r[i.href]=e:(i.hash="",""===a?t=i:f(e,r,t))}}else if(!0!==e&&!1!==e)return r;let o=t.href+(a?"#"+a:"");if(void 0!==r[o])throw Error(`Duplicate schema URI "${o}".`);if(r[o]=e,!0===e||!1===e)return r;if(void 0===e.__absolute_uri__&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:o}),e.$ref&&void 0===e.__absolute_ref__){let r=new URL(e.$ref,t.href);r.hash=r.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:r.href})}if(e.$recursiveRef&&void 0===e.__absolute_recursive_ref__){let r=new URL(e.$recursiveRef,t.href);r.hash=r.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:r.href})}for(let o in e.$anchor&&(r[new URL("#"+e.$anchor,t.href).href]=e),e){if(s[o])continue;let l=`${a}/${i(o)}`,u=e[o];if(Array.isArray(u)){if(n[o]){let e=u.length;for(let a=0;a<e;a++)f(u[a],r,t,`${l}/${a}`)}}else if(d[o])for(let e in u)f(u[e],r,t,`${l}/${i(e)}`);else f(u,r,t,l)}return r}let u=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,h=[0,31,28,31,30,31,30,31,31,30,31,30,31],c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function m(e){return e.test.bind(e)}let $={date:p,time:y.bind(void 0,!1),"date-time":function(e){let r=e.split(v);return 2==r.length&&p(r[0])&&y(!0,r[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return k.test(e)&&w.test(e)},"uri-reference":m(/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),"uri-template":m(/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i),url:m(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu),email:e=>{if('"'===e[0])return!1;let[r,t,...a]=e.split("@");return!(!r||!t||0!==a.length||r.length>64||t.length>253||"."===r[0]||r.endsWith(".")||r.includes(".."))&&!!/^[a-z0-9.-]+$/i.test(t)&&!!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(r)&&t.split(".").every(e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e))},hostname:m(/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i),ipv4:m(/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/),ipv6:m(/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i),regex:function(e){if(g.test(e))return!1;try{return RegExp(e,"u"),!0}catch(e){return!1}},uuid:m(/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i),"json-pointer":m(/^(?:\/(?:[^~/]|~0|~1)*)*$/),"json-pointer-uri-fragment":m(/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i),"relative-json-pointer":m(/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/)};function p(e){var r;let t=e.match(u);if(!t)return!1;let a=+t[1],o=+t[2],i=+t[3];return o>=1&&o<=12&&i>=1&&i<=(2==o&&(r=a)%4==0&&(r%100!=0||r%400==0)?29:h[o])}function y(e,r){let t=r.match(c);if(!t)return!1;let a=+t[1],o=+t[2],i=+t[3],n=!!t[5];return(a<=23&&o<=59&&i<=59||23==a&&59==o&&60==i)&&(!e||n)}let v=/t|\s/i,k=/\/|:/,w=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,g=/[^\\]\\Z/;function b(e,r){let t=typeof e;if(t!==typeof r)return!1;if(Array.isArray(e)){if(!Array.isArray(r))return!1;let t=e.length;if(t!==r.length)return!1;for(let a=0;a<t;a++)if(!b(e[a],r[a]))return!1;return!0}if("object"===t){if(!e||!r)return e===r;let t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(let a of t)if(!b(e[a],r[a]))return!1;return!0}return e===r}(o=a||(a={}))[o.Flag=1]="Flag",o[o.Basic=2]="Basic",o[o.Detailed=4]="Detailed";class _{schema;draft;shortCircuit;lookup;constructor(e,r="2019-09",t=!0){this.schema=e,this.draft=r,this.shortCircuit=t,this.lookup=f(e)}validate(e){return function e(r,t,a="2019-09",o=f(t),n=!0,d=null,s="#",l="#",u=Object.create(null)){let h;if(!0===t)return{valid:!0,errors:[]};if(!1===t)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};let c=typeof r;switch(c){case"boolean":case"number":case"string":h=c;break;case"object":h=null===r?"null":Array.isArray(r)?"array":"object";break;default:throw Error(`Instances of "${c}" type are not supported.`)}let{$ref:m,$recursiveRef:p,$recursiveAnchor:y,type:v,const:k,enum:w,required:g,not:_,anyOf:I,allOf:x,oneOf:z,if:L,then:O,else:A,format:j,properties:P,patternProperties:R,additionalProperties:S,unevaluatedProperties:M,minProperties:E,maxProperties:C,propertyNames:q,dependentRequired:N,dependentSchemas:U,dependencies:D,prefixItems:F,items:J,additionalItems:T,unevaluatedItems:H,contains:V,minContains:Y,maxContains:B,minItems:G,maxItems:W,uniqueItems:X,minimum:K,maximum:Z,exclusiveMinimum:Q,exclusiveMaximum:ee,multipleOf:er,minLength:et,maxLength:ea,pattern:eo,__absolute_ref__:ei,__absolute_recursive_ref__:en}=t,ed=[];if(!0===y&&null===d&&(d=t),"#"===p){let i=null===d?o[en]:d,f=`${l}/$recursiveRef`,h=e(r,null===d?t:d,a,o,n,i,s,f,u);h.valid||ed.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:f,error:"A subschema had errors."},...h.errors)}if(void 0!==m){let t=o[ei||m];if(void 0===t){let e=`Unresolved $ref "${m}".`;throw ei&&ei!==m&&(e+=`  Absolute URI "${ei}".`),Error(e+=`
Known schemas:
- ${Object.keys(o).join("\n- ")}`)}let i=`${l}/$ref`,f=e(r,t,a,o,n,d,s,i,u);if(f.valid||ed.push({instanceLocation:s,keyword:"$ref",keywordLocation:i,error:"A subschema had errors."},...f.errors),"4"===a||"7"===a)return{valid:0===ed.length,errors:ed}}if(Array.isArray(v)){let e=v.length,t=!1;for(let a=0;a<e;a++)if(h===v[a]||"integer"===v[a]&&"number"===h&&r%1==0&&r==r){t=!0;break}t||ed.push({instanceLocation:s,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${v.join('", "')}".`})}else"integer"===v?("number"!==h||r%1||r!=r)&&ed.push({instanceLocation:s,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${v}".`}):void 0!==v&&h!==v&&ed.push({instanceLocation:s,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${v}".`});if(void 0!==k&&("object"===h||"array"===h?b(r,k)||ed.push({instanceLocation:s,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(k)}.`}):r!==k&&ed.push({instanceLocation:s,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(k)}.`})),void 0!==w&&("object"===h||"array"===h?w.some(e=>b(r,e))||ed.push({instanceLocation:s,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(w)}.`}):w.some(e=>r===e)||ed.push({instanceLocation:s,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(w)}.`})),void 0!==_){let t=`${l}/not`;e(r,_,a,o,n,d,s,t).valid&&ed.push({instanceLocation:s,keyword:"not",keywordLocation:t,error:'Instance matched "not" schema.'})}let es=[];if(void 0!==I){let t=`${l}/anyOf`,i=ed.length,f=!1;for(let i=0;i<I.length;i++){let l=I[i],h=Object.create(u),c=e(r,l,a,o,n,!0===y?d:null,s,`${t}/${i}`,h);ed.push(...c.errors),f=f||c.valid,c.valid&&es.push(h)}f?ed.length=i:ed.splice(i,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:t,error:"Instance does not match any subschemas."})}if(void 0!==x){let t=`${l}/allOf`,i=ed.length,f=!0;for(let i=0;i<x.length;i++){let l=x[i],h=Object.create(u),c=e(r,l,a,o,n,!0===y?d:null,s,`${t}/${i}`,h);ed.push(...c.errors),f=f&&c.valid,c.valid&&es.push(h)}f?ed.length=i:ed.splice(i,0,{instanceLocation:s,keyword:"allOf",keywordLocation:t,error:"Instance does not match every subschema."})}if(void 0!==z){let t=`${l}/oneOf`,i=ed.length,f=z.filter((i,l)=>{let f=Object.create(u),h=e(r,i,a,o,n,!0===y?d:null,s,`${t}/${l}`,f);return ed.push(...h.errors),h.valid&&es.push(f),h.valid}).length;1===f?ed.length=i:ed.splice(i,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:t,error:`Instance does not match exactly one subschema (${f} matches).`})}if(("object"===h||"array"===h)&&Object.assign(u,...es),void 0!==L){let t=`${l}/if`;if(e(r,L,a,o,n,d,s,t,u).valid){if(void 0!==O){let i=e(r,O,a,o,n,d,s,`${l}/then`,u);i.valid||ed.push({instanceLocation:s,keyword:"if",keywordLocation:t,error:'Instance does not match "then" schema.'},...i.errors)}}else if(void 0!==A){let i=e(r,A,a,o,n,d,s,`${l}/else`,u);i.valid||ed.push({instanceLocation:s,keyword:"if",keywordLocation:t,error:'Instance does not match "else" schema.'},...i.errors)}}if("object"===h){if(void 0!==g)for(let e of g)e in r||ed.push({instanceLocation:s,keyword:"required",keywordLocation:`${l}/required`,error:`Instance does not have required property "${e}".`});let t=Object.keys(r);if(void 0!==E&&t.length<E&&ed.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${l}/minProperties`,error:`Instance does not have at least ${E} properties.`}),void 0!==C&&t.length>C&&ed.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${l}/maxProperties`,error:`Instance does not have at least ${C} properties.`}),void 0!==q){let t=`${l}/propertyNames`;for(let l in r){let r=`${s}/${i(l)}`,f=e(l,q,a,o,n,d,r,t);f.valid||ed.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:t,error:`Property name "${l}" does not match schema.`},...f.errors)}}if(void 0!==N){let e=`${l}/dependantRequired`;for(let t in N)if(t in r)for(let a of N[t])a in r||ed.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:e,error:`Instance has "${t}" but does not have "${a}".`})}if(void 0!==U)for(let t in U){let f=`${l}/dependentSchemas`;if(t in r){let l=e(r,U[t],a,o,n,d,s,`${f}/${i(t)}`,u);l.valid||ed.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:f,error:`Instance has "${t}" but does not match dependant schema.`},...l.errors)}}if(void 0!==D){let t=`${l}/dependencies`;for(let l in D)if(l in r){let f=D[l];if(Array.isArray(f))for(let e of f)e in r||ed.push({instanceLocation:s,keyword:"dependencies",keywordLocation:t,error:`Instance has "${l}" but does not have "${e}".`});else{let u=e(r,f,a,o,n,d,s,`${t}/${i(l)}`);u.valid||ed.push({instanceLocation:s,keyword:"dependencies",keywordLocation:t,error:`Instance has "${l}" but does not match dependant schema.`},...u.errors)}}}let f=Object.create(null),h=!1;if(void 0!==P){let t=`${l}/properties`;for(let l in P){if(!(l in r))continue;let c=`${s}/${i(l)}`,m=e(r[l],P[l],a,o,n,d,c,`${t}/${i(l)}`);if(m.valid)u[l]=f[l]=!0;else if(h=n,ed.push({instanceLocation:s,keyword:"properties",keywordLocation:t,error:`Property "${l}" does not match schema.`},...m.errors),h)break}}if(!h&&void 0!==R){let t=`${l}/patternProperties`;for(let l in R){let c=RegExp(l,"u"),m=R[l];for(let $ in r){if(!c.test($))continue;let p=`${s}/${i($)}`,y=e(r[$],m,a,o,n,d,p,`${t}/${i(l)}`);y.valid?u[$]=f[$]=!0:(h=n,ed.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:t,error:`Property "${$}" matches pattern "${l}" but does not match associated schema.`},...y.errors))}}}if(h||void 0===S){if(!h&&void 0!==M){let t=`${l}/unevaluatedProperties`;for(let l in r)if(!u[l]){let f=`${s}/${i(l)}`,h=e(r[l],M,a,o,n,d,f,t);h.valid?u[l]=!0:ed.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:t,error:`Property "${l}" does not match unevaluated properties schema.`},...h.errors)}}}else{let t=`${l}/additionalProperties`;for(let l in r){if(f[l])continue;let c=`${s}/${i(l)}`,m=e(r[l],S,a,o,n,d,c,t);m.valid?u[l]=!0:(h=n,ed.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:t,error:`Property "${l}" does not match additional properties schema.`},...m.errors))}}}else if("array"===h){void 0!==W&&r.length>W&&ed.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${l}/maxItems`,error:`Array has too many items (${r.length} > ${W}).`}),void 0!==G&&r.length<G&&ed.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${l}/minItems`,error:`Array has too few items (${r.length} < ${G}).`});let t=r.length,i=0,f=!1;if(void 0!==F){let h=`${l}/prefixItems`,c=Math.min(F.length,t);for(;i<c;i++){let t=e(r[i],F[i],a,o,n,d,`${s}/${i}`,`${h}/${i}`);if(u[i]=!0,!t.valid&&(f=n,ed.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:h,error:"Items did not match schema."},...t.errors),f))break}}if(void 0!==J){let h=`${l}/items`;if(Array.isArray(J)){let l=Math.min(J.length,t);for(;i<l;i++){let t=e(r[i],J[i],a,o,n,d,`${s}/${i}`,`${h}/${i}`);if(u[i]=!0,!t.valid&&(f=n,ed.push({instanceLocation:s,keyword:"items",keywordLocation:h,error:"Items did not match schema."},...t.errors),f))break}}else for(;i<t;i++){let t=e(r[i],J,a,o,n,d,`${s}/${i}`,h);if(u[i]=!0,!t.valid&&(f=n,ed.push({instanceLocation:s,keyword:"items",keywordLocation:h,error:"Items did not match schema."},...t.errors),f))break}if(!f&&void 0!==T){let h=`${l}/additionalItems`;for(;i<t;i++){let t=e(r[i],T,a,o,n,d,`${s}/${i}`,h);u[i]=!0,t.valid||(f=n,ed.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:h,error:"Items did not match additional items schema."},...t.errors))}}}if(void 0!==V)if(0===t&&void 0===Y)ed.push({instanceLocation:s,keyword:"contains",keywordLocation:`${l}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(void 0!==Y&&t<Y)ed.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array has less items (${t}) than minContains (${Y}).`});else{let i=`${l}/contains`,f=ed.length,h=0;for(let l=0;l<t;l++){let t=e(r[l],V,a,o,n,d,`${s}/${l}`,i);t.valid?(u[l]=!0,h++):ed.push(...t.errors)}h>=(Y||0)&&(ed.length=f),void 0===Y&&void 0===B&&0===h?ed.splice(f,0,{instanceLocation:s,keyword:"contains",keywordLocation:i,error:"Array does not contain item matching schema."}):void 0!==Y&&h<Y?ed.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array must contain at least ${Y} items matching schema. Only ${h} items were found.`}):void 0!==B&&h>B&&ed.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${l}/maxContains`,error:`Array may contain at most ${B} items matching schema. ${h} items were found.`})}if(!f&&void 0!==H){let f=`${l}/unevaluatedItems`;for(;i<t;i++){if(u[i])continue;let t=e(r[i],H,a,o,n,d,`${s}/${i}`,f);u[i]=!0,t.valid||ed.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:f,error:"Items did not match unevaluated items schema."},...t.errors)}}if(X)for(let e=0;e<t;e++){let a=r[e],o="object"==typeof a&&null!==a;for(let i=0;i<t;i++){if(e===i)continue;let t=r[i],n="object"==typeof t&&null!==t;(a===t||o&&n&&b(a,t))&&(ed.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${l}/uniqueItems`,error:`Duplicate items at indexes ${e} and ${i}.`}),e=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER)}}}else if("number"===h){if("4"===a?(void 0!==K&&(!0===Q&&r<=K||r<K)&&ed.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${r} is less than ${Q?"or equal to ":""} ${K}.`}),void 0!==Z&&(!0===ee&&r>=Z||r>Z)&&ed.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${r} is greater than ${ee?"or equal to ":""} ${Z}.`})):(void 0!==K&&r<K&&ed.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${r} is less than ${K}.`}),void 0!==Z&&r>Z&&ed.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${r} is greater than ${Z}.`}),void 0!==Q&&r<=Q&&ed.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${l}/exclusiveMinimum`,error:`${r} is less than ${Q}.`}),void 0!==ee&&r>=ee&&ed.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${l}/exclusiveMaximum`,error:`${r} is greater than or equal to ${ee}.`})),void 0!==er){let e=r%er;Math.abs(0-e)>=11920929e-14&&Math.abs(er-e)>=11920929e-14&&ed.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${l}/multipleOf`,error:`${r} is not a multiple of ${er}.`})}}else if("string"===h){let e=void 0===et&&void 0===ea?0:function(e){let r,t=0,a=e.length,o=0;for(;o<a;)t++,(r=e.charCodeAt(o++))>=55296&&r<=56319&&o<a&&(64512&(r=e.charCodeAt(o)))==56320&&o++;return t}(r);void 0!==et&&e<et&&ed.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${l}/minLength`,error:`String is too short (${e} < ${et}).`}),void 0!==ea&&e>ea&&ed.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${l}/maxLength`,error:`String is too long (${e} > ${ea}).`}),void 0===eo||RegExp(eo,"u").test(r)||ed.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${l}/pattern`,error:"String does not match pattern."}),void 0!==j&&$[j]&&!$[j](r)&&ed.push({instanceLocation:s,keyword:"format",keywordLocation:`${l}/format`,error:`String does not match format "${j}".`})}return{valid:0===ed.length,errors:ed}}(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,r){r&&(e={...e,$id:r}),f(e,this.lookup)}}}}]);