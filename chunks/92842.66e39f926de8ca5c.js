"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92842],{92842:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var o=t(28802),i=t(70677),l=t(67896),r=t(83034),a=t(80457),c=t(81224),d=t(84781),s=t(38759),p=t(61520),h=t(50877),g=t(75431),m=t(9274),u=t(67072),f=t(58244),k=t(67693),w=t(11577),x=t(80201),y=t(59121),F=t(5930),T=t(76694);let b=(0,r.memo)(({topic:e,showMoreInfo:n,style:t})=>{let i,l=(0,w.DP)(),{t:r}=(0,y.Bd)("image"),{modal:s}=f.A.useApp(),p=(0,F.o)(T.c.currentLanguage),h=(0,c.k)(d.Q.isLoadingGenerationTopic(e.id)),b=(0,c.k)(e=>e.removeGenerationTopic),A=(0,c.k)(e=>e.switchGenerationTopic),v=(0,c.k)(d.Q.activeGenerationTopicId)===e.id,D=(0,o.FD)(a.Flexbox,{align:"center",flex:1,gap:16,horizontal:!0,justify:"space-between",style:{overflow:"hidden"},children:[(0,o.FD)(a.Flexbox,{flex:1,style:{overflow:"hidden"},children:[(0,o.Y)(g.A,{ellipsis:!0,fontSize:14,weight:500,children:e.title||r("topic.untitled")}),(0,o.Y)(g.A,{ellipsis:!0,fontSize:12,type:"secondary",children:(i=e.updatedAt,new Intl.DateTimeFormat(p,{day:"numeric",month:"long"}).format(new Date(i)))})]}),(0,o.Y)(m.A,{danger:!0,icon:x.A,onClick:n=>{n.stopPropagation(),s.confirm({cancelText:r("cancel",{ns:"common"}),content:r("topic.deleteConfirmDesc"),okButtonProps:{danger:!0},okText:r("delete",{ns:"common"}),onOk:async()=>{try{await b(e.id)}catch(e){console.error("Delete topic failed:",e)}},title:r("topic.deleteConfirm")})},size:"small"})]});return(0,o.Y)(k.A,{arrow:!1,content:D,placement:"left",styles:{body:{width:200}},trigger:n?[]:["hover"],children:(0,o.FD)(a.Flexbox,{align:"center",gap:12,horizontal:!0,justify:"center",onClick:()=>{A(e.id)},style:{cursor:"pointer",...t},width:"100%",children:[(0,o.Y)(u.A,{avatar:e.coverUrl??"",background:l.colorFillSecondary,bordered:v,loading:h,shape:"square",size:48,style:{flex:"none"}}),n&&D]})})});b.displayName="TopicItem";let A=(0,r.memo)(()=>{let e=(0,s.k)(p.P.isLogin);(0,c.k)(e=>e.useFetchGenerationTopics)(!!e);let n=(0,r.useRef)(null),{width:t=80}=(0,l.A)(n)||{},[g]=(0,i.Q)(),m=(0,c.k)(d.Q.generationTopics),u=(0,c.k)(e=>e.openNewGenerationTopic),f=t>120;return m&&0!==m.length?(0,o.FD)(a.Flexbox,{align:"center",gap:12,padding:12,ref:n,style:{maxHeight:"100%",overflowY:"auto"},width:"100%",children:[(0,o.Y)(h.A,{count:m?.length,onClick:u,showMoreInfo:f}),(0,o.Y)(a.Flexbox,{align:"center",gap:12,ref:g,width:"100%",children:m.map((e,n)=>(0,o.Y)(b,{showMoreInfo:f,style:{padding:1===m.length?"4px 0":n===m.length-1?"0 0 4px":"0"},topic:e},e.id))})]}):null});A.displayName="TopicsList";let v=A}}]);