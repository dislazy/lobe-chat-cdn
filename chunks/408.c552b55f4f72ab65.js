"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{876:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(83034);let o=(0,r(51152).A)(n.useEffect)},9274:(e,t,r)=>{r.d(t,{A:()=>O});var n,o,a=r(65890),i=r(85017),s=r(83034),l=r(20480),u=r(12389),c=r(37412),d=r(74912),f=function(e){if((0,d.A)(e)){var t,r,n=1.8*e;return{blockSize:n,borderRadius:Math.floor(n/6)}}switch(e){case"large":t=44,r=8;break;case"middle":t=36,r=6;break;case"small":t=24,r=4;break;default:e?(t=(null==e?void 0:e.blockSize)||36,r=(null==e?void 0:e.borderRadius)||6):(t="1.8em",r="0.3em")}return{blockSize:t,borderRadius:r}};function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=(0,r(11577).rU)(function(e){var t=e.isDarkMode,r=e.css,a=e.token,i=e.stylish;return{active:i.active,borderless:i.variantBorderless,dangerBorderless:i.variantBorderlessDanger,dangerFilled:i.variantFilledDanger,dangerOutlined:i.variantOutlinedDanger,dangerRoot:r(n||(n=p(["\n      &:hover {\n        color: ",";\n      }\n\n      &:active {\n        color: ",";\n      }\n    "])),a.colorError,a.colorErrorActive),disabled:i.disabled,filled:i.variantFilled,glass:i.blur,outlined:i.variantOutlined,root:r(o||(o=p(["\n      cursor: pointer;\n\n      position: relative;\n\n      overflow: hidden;\n\n      color: ",";\n\n      transition:\n        color 400ms ",",\n        background 100ms ",";\n\n      &:hover {\n        color: ",";\n      }\n\n      &:active {\n        color: ",";\n      }\n    "])),a.colorTextTertiary,a.motionEaseOut,a.motionEaseOut,a.colorTextSecondary,t?a.colorTextTertiary:a.colorText),shadow:i.shadow}}),y=r(54898);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["color","fill","className","active","icon","size","variant","style","glass","title","onClick","loading","fillOpacity","fillRule","focusable","shadow","disabled","spin","tooltipProps","danger","ref"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=(0,s.memo)(function(e){var t,r=e.color,n=e.fill,o=e.className,d=e.active,p=e.icon,v=e.size,b=void 0===v?"middle":v,w=e.variant,O=e.style,k=e.glass,S=e.title,P=e.onClick,A=e.loading,j=e.fillOpacity,x=e.fillRule,C=e.focusable,E=e.shadow,M=e.disabled,L=e.spin,R=e.tooltipProps,T=e.danger,$=e.ref,K=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h),I=m(),D=I.styles,z=I.cx,N=(0,s.useMemo)(function(){return f(b)},[b]),H=N.blockSize,F=N.borderRadius,W=(0,s.useMemo)(function(){return(0,a.F)(D.root,{compoundVariants:[{className:D.dangerFilled,danger:!0,variant:"filled"},{className:D.dangerBorderless,danger:!0,variant:"borderless"},{className:D.dangerOutlined,danger:!0,variant:"outlined"}],defaultVariants:{active:!1,danger:!1,disabled:!1,glass:!1,shadow:!1,variant:"borderless"},variants:{variant:{filled:D.filled,outlined:D.outlined,borderless:D.borderless},glass:{false:null,true:D.glass},shadow:{false:null,true:D.shadow},active:{false:null,true:D.active},danger:{false:null,true:D.dangerRoot},disabled:{false:null,true:D.disabled}}})},[D]),B=(0,s.useCallback)(function(e){A||M||null==P||P(e)},[A,M,P]),q=(0,y.jsx)(l.default,g(g({className:z(W({active:d,danger:T,disabled:M,glass:k,shadow:E,variant:void 0===w?"borderless":w}),o),flex:"none",horizontal:!0,onClick:B,ref:$,role:"button",style:g({borderRadius:F,height:H,width:H},O),tabIndex:M?-1:0},K),{},{children:p&&(0,y.jsx)(u.default,{color:r,fill:n,fillOpacity:j,fillRule:x,focusable:C,icon:A?i.A:p,size:b,spin:!!A||L,style:{pointerEvents:"none"}})}));return S?(0,y.jsx)(c.A,g(g({title:S},R),{},{styles:g(g({},null==R?void 0:R.styles),{},{root:g({pointerEvents:"none"},null==R||null==(t=R.styles)?void 0:t.root)}),children:q})):q});w.displayName="ActionIcon";let O=w},10053:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(83034),o=r(71673),a=r(46161),i=r(30335);let s=function(e=!0,t={}){let r=(0,n.useRef)(t),[,s]=(0,a.C)(),l=(0,i.Ay)();return(0,o.A)(()=>{let t=l.subscribe(t=>{r.current=t,e&&s()});return()=>l.unsubscribe(t)},[]),r.current}},14654:(e,t,r)=>{r.d(t,{Q:()=>i});var n=r(25196),o=r(40714),a=r(83034),i=function(){var e=o.Ay.useBreakpoint();return(0,a.useMemo)(function(){return(0,n.s)(e)},[e])}},20439:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(28709).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},29914:(e,t,r)=>{let n,o,a;r.d(t,{Ay:()=>s,Ew:()=>o,iU:()=>n,yl:()=>a});var i=r(58244);let s=(0,r(83034).memo)(()=>{let e=i.A.useApp();return n=e.message,a=e.modal,o=e.notification,null})},30335:(e,t,r)=>{r.d(t,{Ay:()=>l,ko:()=>s,ye:()=>i});var n=r(83034),o=r(1191),a=r(64751);let i=["xxl","xl","lg","md","sm","xs"],s=(e,t)=>{if(t){for(let r of i)if(e[r]&&(null==t?void 0:t[r])!==void 0)return t[r]}},l=()=>{let e,[,t]=(0,o.Ay)(),r=((e=[].concat(i).reverse()).forEach((r,n)=>{let o=r.toUpperCase(),a=`screen${o}Min`,i=`screen${o}`;if(!(t[a]<=t[i]))throw Error(`${a}<=${i} fails : !(${t[a]}<=${t[i]})`);if(n<e.length-1){let r=`screen${o}Max`;if(!(t[i]<=t[r]))throw Error(`${i}<=${r} fails : !(${t[i]}<=${t[r]})`);let a=e[n+1].toUpperCase(),s=`screen${a}Min`;if(!(t[r]<=t[s]))throw Error(`${r}<=${s} fails : !(${t[r]}<=${t[s]})`)}}),{xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`});return n.useMemo(()=>{let e=new Map,t=-1,n={};return{responsiveMap:r,matchHandlers:{},dispatch:t=>(n=t,e.forEach(e=>e(n)),e.size>=1),subscribe(r){return e.size||this.register(),t+=1,e.set(t,r),r(n),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.entries(r).forEach(([e,t])=>{let r=({matches:t})=>{this.dispatch(Object.assign(Object.assign({},n),{[e]:t}))},o=window.matchMedia(t);(0,a.e)(o,r),this.matchHandlers[t]={mql:o,listener:r},r(o)})},unregister(){Object.values(r).forEach(e=>{let t=this.matchHandlers[e];(0,a.p)(null==t?void 0:t.mql,null==t?void 0:t.listener)}),e.clear()}}},[r])}},31065:(e,t,r)=>{r.d(t,{I:()=>a,i:()=>o});var n=r(78397);let o=e=>e.status,a={chatInputHeight:e=>e.status.chatInputHeight||64,disabledModelProvidersSortType:e=>e.status.disabledModelProvidersSortType||"default",disabledModelsSortType:e=>e.status.disabledModelsSortType||"default",expandInputActionbar:e=>e.status.expandInputActionbar,filePanelWidth:e=>e.status.filePanelWidth,getAgentSystemRoleExpanded:e=>t=>!1!==(t.status.systemRoleExpandedMap||{})[e],hidePWAInstaller:e=>e.status.hidePWAInstaller,imagePanelWidth:e=>e.status.imagePanelWidth,imageTopicPanelWidth:e=>e.status.imageTopicPanelWidth,inZenMode:e=>e.status.zenMode,isShowCredit:e=>e.status.isShowCredit,isStatusInit:e=>!!e.isStatusInit,language:e=>e.status.language||"auto",mobileShowPortal:e=>e.status.mobileShowPortal,mobileShowTopic:e=>e.status.mobileShowTopic,portalWidth:e=>e.status.portalWidth||400,sessionGroupKeys:e=>e.status.expandSessionGroupKeys||n._X.expandSessionGroupKeys,sessionWidth:e=>e.status.sessionsWidth,showChatHeader:e=>!e.status.zenMode,showChatSideBar:e=>!e.status.zenMode&&e.status.showChatSideBar,showFilePanel:e=>e.status.showFilePanel,showImagePanel:e=>e.status.showImagePanel,showImageTopicPanel:e=>e.status.showImageTopicPanel,showSessionPanel:e=>!e.status.zenMode&&e.status.showSessionPanel,showSystemRole:e=>e.status.showSystemRole,systemStatus:o,themeMode:e=>e.status.themeMode||"auto",tokenDisplayFormatShort:e=>void 0===e.status.tokenDisplayFormatShort||e.status.tokenDisplayFormatShort,wideScreen:e=>!e.status.noWideScreen}},32308:(e,t,r)=>{r.d(t,{Sn:()=>n,U9:()=>a,sg:()=>o});let n={oauth:"/api/auth",proxy:"/webapi/proxy",gateway:"/webapi/plugin/gateway",trace:"/webapi/trace",chat:e=>`/webapi/chat/${e}`,models:e=>`/webapi/models/${e}`,modelPull:e=>`/webapi/models/${e}/pull`,images:e=>`/webapi/text-to-image/${e}`,stt:"/webapi/stt/openai",tts:"/webapi/tts/openai",edge:"/webapi/tts/edge",microsoft:"/webapi/tts/microsoft"},o={auth:"/lobehub-oidc/auth",token:"/market/oidc/token",userinfo:"/market/oidc/userinfo",handoff:"/market/oidc/handoff",desktopCallback:"/lobehub-oidc/callback/desktop"},a={base:"/market",createAgent:"/market/agent/create",getAgentDetail:e=>`/market/agent/${encodeURIComponent(e)}`,createAgentVersion:"/market/agent/versions/create"}},40616:(e,t,r)=>{r.d(t,{y:()=>n});let n=async e=>await new Promise(t=>{setTimeout(t,e)})},46161:(e,t,r)=>{r.d(t,{C:()=>o});var n=r(83034);let o=()=>n.useReducer(e=>e+1,0)},51152:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(83034),o=r(95961);let a=function(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0};var i=r(75986);let s=function(e){return function(t,r,s){var l=(0,n.useRef)(!1),u=(0,n.useRef)([]),c=(0,n.useRef)([]),d=(0,n.useRef)(void 0);e(function(){var e,n=(Array.isArray(s)?s:[s]).map(function(e){return(0,i.e)(e)});if(!l.current){l.current=!0,u.current=n,c.current=r,d.current=t();return}n.length===u.current.length&&a(u.current,n)&&a(c.current,r)||(null==(e=d.current)||e.call(d),u.current=n,c.current=r,d.current=t())}),(0,o.A)(function(){var e;null==(e=d.current)||e.call(d),l.current=!1})}}},52306:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(83034);let o=function(e){var t=(0,n.useRef)(e);return t.current=e,t}},54759:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(28709).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},55647:(e,t,r)=>{r.d(t,{A:()=>n});let n=!!("undefined"!=typeof window&&window.document&&window.document.createElement)},57363:(e,t,r)=>{r.d(t,{Mh:()=>f});var n=r(53414),o=r(27984);let a=new n.Mo("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new n.Mo("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),s=new n.Mo("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new n.Mo("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),u=new n.Mo("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new n.Mo("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d={"move-up":{inKeyframes:new n.Mo("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new n.Mo("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:a,outKeyframes:i},"move-left":{inKeyframes:s,outKeyframes:l},"move-right":{inKeyframes:u,outKeyframes:c}},f=(e,t)=>{let{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:a,outKeyframes:i}=d[t];return[(0,o.b)(n,a,i,e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},69033:(e,t,r)=>{r.d(t,{A:()=>f});var n=r(53809),o=r(65890),a=r(83034),i=r(83064),s=r(54898);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["ref","variant","shadow","className"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=(0,a.memo)(function(e){var t=e.ref,r=e.variant,d=e.shadow,f=e.className,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),m=(0,i.I)(),y=m.styles,v=m.cx,h=m.theme,b=(0,a.useMemo)(function(){return(0,o.F)(y.root,{defaultVariants:{shadow:!1},variants:{variant:{filled:y.filled,outlined:y.outlined,borderless:y.borderless,underlined:null},shadow:{false:null,true:y.shadow}}})},[y]);return(0,s.jsx)(n.A,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:v(b({shadow:d,variant:r||(h.isDarkMode?"filled":"outlined")}),f),ref:t,variant:r||(h.isDarkMode?"filled":"outlined")},p))});d.displayName="Input";let f=d},75986:(e,t,r)=>{r.d(t,{e:()=>a});var n=r(80851),o=r(55647);function a(e,t){if(o.A)return e?(0,n.Tn)(e)?e():"current"in e?e.current:e:t}},80851:(e,t,r)=>{r.d(t,{Et:()=>o,Tn:()=>n});var n=function(e){return"function"==typeof e},o=function(e){return"number"==typeof e}},82464:(e,t,r)=>{r.d(t,{A:()=>n});let n=!1},83064:(e,t,r)=>{function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{I:()=>f});var o,a,i,s,l,u,c,d,f=(0,r(11577).rU)(function(e){var t=e.cx,r=e.token,f=e.css,p=e.stylish,m=e.prefixCls;return{borderless:f(o||(o=n(["\n      &.","-input {\n        ","\n        &:hover {\n          ","\n        }\n      }\n    "])),m,p.variantBorderless,p.variantBorderlessWithoutHover),borderlessOPT:f(a||(a=n(["\n      &.","-otp {\n        .","-otp-input {\n          ",";\n        }\n      }\n    "])),m,m,p.variantBorderless),filled:t(p.variantFilled,f(i||(i=n(["\n        &:focus-within {\n          ","\n        }\n      "])),p.variantFilledWithoutHover)),filledOPT:f(s||(s=n(["\n      &.","-otp {\n        .","-otp-input {\n          ",";\n        }\n      }\n    "])),m,m,p.variantFilled),outlined:p.variantOutlined,outlinedOPT:f(l||(l=n(["\n      &.","-otp {\n        .","-otp-input {\n          ",";\n        }\n      }\n    "])),m,m,p.variantOutlined),root:f(u||(u=n([""]))),rootOPT:f(c||(c=n(["\n      &.","-otp {\n        .","-otp-input {\n          &:focus-within {\n            border-color: ",";\n          }\n        }\n      }\n    "])),m,m,r.colorBorder),shadow:p.shadow,shadowOPT:f(d||(d=n(["\n      &.","-otp {\n        .","-otp-input {\n          ",";\n        }\n      }\n    "])),m,m,p.shadow)}})},83824:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(5686),o=r(83034);let a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var i=r(15983);let s=o.forwardRef(function(e,t){return o.createElement(i.A,(0,n.A)({},e,{ref:t,icon:a}))})},86653:(e,t,r)=>{r.d(t,{Hb:()=>k,KO:()=>j,vC:()=>A,wc:()=>O});var n=r(83034),o=r(54898);let a=["shift","alt","meta","mod","ctrl","control"],i={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function s(e){return(i[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function l(e){return a.includes(e)}function u(e,t=","){return e.toLowerCase().split(t)}function c(e,t="+",r=">",n=!1,o){let i=[],l=!1;(e=e.trim()).includes(r)?(l=!0,i=e.toLocaleLowerCase().split(r).map(e=>s(e))):i=e.toLocaleLowerCase().split(t).map(e=>s(e));let u={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod"),useKey:n},d=i.filter(e=>!a.includes(e));return{...u,keys:d,description:o,isSequence:l,hotkey:e}}"u">typeof document&&(document.addEventListener("keydown",e=>{void 0!==e.code&&p([s(e.code)])}),document.addEventListener("keyup",e=>{void 0!==e.code&&m([s(e.code)])})),"u">typeof window&&(window.addEventListener("blur",()=>{d.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{d.clear()},0)}));let d=new Set;function f(e){return Array.isArray(e)}function p(e){let t=Array.isArray(e)?e:[e];d.has("meta")&&d.forEach(e=>!l(e)&&d.delete(e.toLowerCase())),t.forEach(e=>d.add(e.toLowerCase()))}function m(e){let t=Array.isArray(e)?e:[e];"meta"===e?d.clear():t.forEach(e=>d.delete(e.toLowerCase()))}let y=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function v(e,t=!1){var r;let n,o,{target:a,composed:i}=e;return(r=a).tagName&&!r.tagName.startsWith("-")&&r.tagName.includes("-")&&i?(n=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(n=a&&a.tagName,o=a&&a.role),f(t)?!!(n&&t&&t.some(e=>e.toLowerCase()===n.toLowerCase()||e===o)):!!(n&&t&&t)}let h=(0,n.createContext)(void 0);function b({addHotkey:e,removeHotkey:t,children:r}){return(0,o.jsx)(h.Provider,{value:{addHotkey:e,removeHotkey:t},children:r})}function g(e,t){return e&&t&&"object"==typeof e&&"object"==typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((r,n)=>r&&g(e[n],t[n]),!0):e===t}let w=(0,n.createContext)({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),O=()=>(0,n.useContext)(w),k=({initiallyActiveScopes:e=["*"],children:t})=>{let[r,a]=(0,n.useState)(e),[i,s]=(0,n.useState)([]),l=(0,n.useCallback)(e=>{a(t=>t.includes("*")?[e]:Array.from(new Set([...t,e])))},[]),u=(0,n.useCallback)(e=>{a(t=>t.filter(t=>t!==e))},[]),c=(0,n.useCallback)(e=>{a(t=>t.includes(e)?t.filter(t=>t!==e):t.includes("*")?[e]:Array.from(new Set([...t,e])))},[]),d=(0,n.useCallback)(e=>{s(t=>[...t,e])},[]),f=(0,n.useCallback)(e=>{s(t=>t.filter(t=>!g(t,e)))},[]);return(0,o.jsx)(w.Provider,{value:{activeScopes:r,hotkeys:i,enableScope:l,disableScope:u,toggleScope:c},children:(0,o.jsx)(b,{addHotkey:d,removeHotkey:f,children:t})})},S=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},P="u">typeof window?n.useLayoutEffect:n.useEffect;function A(e,t,r,o){let a,i=(0,n.useRef)(null),b=(0,n.useRef)(!1),w=Array.isArray(r)?Array.isArray(o)?void 0:o:r,k=f(e)?e.join(w?.delimiter):e,A=Array.isArray(r)?r:Array.isArray(o)?o:void 0,j=(0,n.useCallback)(t,A??[]),x=(0,n.useRef)(j);A?x.current=j:x.current=t;let C=(g((a=(0,n.useRef)(void 0)).current,w)||(a.current=w),a.current),{activeScopes:E}=O(),M=(0,n.useContext)(h);return P(()=>{var e;if(C?.enabled===!1||(e=C?.scopes,0===E.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!1):!(!e||E.some(t=>e.includes(t))||E.includes("*"))))return;let t=[],r,n=(e,n=!1)=>{if(!(v(e,y)&&!v(e,C?.enableOnFormTags))){if(null!==i.current){let t=i.current.getRootNode();if((t instanceof Document||t instanceof ShadowRoot)&&t.activeElement!==i.current&&!i.current.contains(t.activeElement))return void S(e)}e.target?.isContentEditable&&!C?.enableOnContentEditable||u(k,C?.delimiter).forEach(o=>{if(o.includes(C?.splitKey??"+")&&o.includes(C?.sequenceSplitKey??">"))return void console.warn(`Hotkey ${o} contains both ${C?.splitKey??"+"} and ${C?.sequenceSplitKey??">"} which is not supported.`);let a=c(o,C?.splitKey,C?.sequenceSplitKey,C?.useKey,C?.description);if(a.isSequence){r=setTimeout(()=>{t=[]},C?.sequenceTimeoutMs??1e3);let n=a.useKey?e.key:s(e.code);if(l(n.toLowerCase()))return;if(t.push(n),n!==a.keys?.[t.length-1]){t=[],r&&clearTimeout(r);return}t.length===a.keys?.length&&(x.current(e,a),r&&clearTimeout(r),t=[])}else if(((e,t,r=!1)=>{let{alt:n,meta:o,mod:a,shift:i,ctrl:l,keys:u,useKey:c}=t,{code:p,key:m,ctrlKey:y,metaKey:v,shiftKey:h,altKey:b}=e,g=s(p);if(c&&u?.length===1&&u.includes(m))return!0;if(!u?.includes(g)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(g))return!1;if(!r){if(n!==b&&"alt"!==g||i!==h&&"shift"!==g)return!1;if(a){if(!v&&!y)return!1}else if(o!==v&&"meta"!==g&&"os"!==g||l!==y&&"ctrl"!==g&&"control"!==g)return!1}return!!(u&&1===u.length&&u.includes(g))||(u?function(e,t=","){return(f(e)?e:e.split(t)).every(e=>d.has(e.trim().toLowerCase()))}(u):!u)})(e,a,C?.ignoreModifiers)||a.keys?.includes("*")){var i,u;if(C?.ignoreEventWhen?.(e)||n&&b.current)return;if(("function"==typeof(i=C?.preventDefault)&&i(e,a)||!0===i)&&e.preventDefault(),"function"==typeof(u=C?.enabled)?!u(e,a):!0!==u&&void 0!==u)return void S(e);x.current(e,a),n||(b.current=!0)}})}},o=e=>{void 0!==e.code&&(p(s(e.code)),(C?.keydown===void 0&&C?.keyup!==!0||C?.keydown)&&n(e))},a=e=>{void 0!==e.code&&(m(s(e.code)),b.current=!1,C?.keyup&&n(e,!0))},h=i.current||w?.document||document;return h.addEventListener("keyup",a,w?.eventListenerOptions),h.addEventListener("keydown",o,w?.eventListenerOptions),M&&u(k,C?.delimiter).forEach(e=>M.addHotkey(c(e,C?.splitKey,C?.sequenceSplitKey,C?.useKey,C?.description))),()=>{h.removeEventListener("keyup",a,w?.eventListenerOptions),h.removeEventListener("keydown",o,w?.eventListenerOptions),M&&u(k,C?.delimiter).forEach(e=>M.removeHotkey(c(e,C?.splitKey,C?.sequenceSplitKey,C?.useKey,C?.description))),t=[],r&&clearTimeout(r)}},[k,C,E]),i}function j(e=!1){let[t,r]=(0,n.useState)(new Set),[o,a]=(0,n.useState)(!1),i=(0,n.useCallback)(t=>{void 0!==t.code&&(t.preventDefault(),t.stopPropagation(),r(r=>{let n=new Set(r);return n.add(s(e?t.key:t.code)),n}))},[e]),l=(0,n.useCallback)(()=>{"u">typeof document&&(document.removeEventListener("keydown",i),a(!1))},[i]);return[t,{start:(0,n.useCallback)(()=>{r(new Set),"u">typeof document&&(l(),document.addEventListener("keydown",i),a(!0))},[i,l]),stop:l,resetKeys:(0,n.useCallback)(()=>{r(new Set)},[]),isRecording:o}]}},95961:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(83034),o=r(52306),a=r(80851),i=r(82464);let s=function(e){i.A&&!(0,a.Tn)(e)&&console.error("useUnmount expected parameter is a function, got ".concat(typeof e));var t=(0,o.A)(e);(0,n.useEffect)(function(){return function(){t.current()}},[])}}}]);